@component-name = "portal-collaboration"
definition {
	property portal.release = "true";
	property portal.upstream = "true";
	property custom.properties = "default.layout.template.id=1_column";
	property testray.main.component.name = "Message Boards";
	var pageName = "Message Boards Page";
	var portletName = "Message Boards";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			MessageboardsPortlet.tearDownConfigurationEmailCP();

			MessageboardsCategory.tearDownCP();

			MessageboardsThread.tearDownCP();

			Site.tearDownCP();

			Page.tearDownPG();
		}
	}

	@priority = "4"
	test CopyAndPasteTextInCKEditor {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		AssertClick(locator1 = "Button#POST_NEW_THREAD", value1 = "Post New Thread");

		AssertElementPresent(locator1 = "TextInput#SUBJECT");

		Type(locator1 = "TextInput#SUBJECT", value1 = "Message Boards Subject");

		Type.typeCKEditorWaitForCKEditor(
			locator1 = "CKEditor#BODY_FIELD",
			value1 = "Message Boards Body"
		);

		Copy(locator1 = "TextInput#SUBJECT");

		Paste.ckEditorPaste(locator1 = "CKEditor#BODY_FIELD_IFRAME");

		PortletEntry.publish();

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "Message Boards Subject",
			threadSubject = "Message Boards Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "Message Boards Subject",
			threadSubject = "Message Boards Subject",
			userName = "Test Test"
		);
	}

	@priority = "5"
	test DeleteMessageboardsThread {
		property portal.acceptance = "false";

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.addCP(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.moveToRecycleBinCP(
			assetName = "MB Thread Message Subject",
			assetType = "Message Boards Thread",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Recycle Bin"
		);

		RecycleBin.deleteCP(
			assetName = "MB Thread Message Subject",
			assetType = "Message Boards Thread"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Recycle Bin"
		);

		RecycleBin.viewDefaultCP(assetName = "MB Thread Message Subject");

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.viewDefaultCP(threadSubject = "MB Thread Message Subject");
	}

	@priority = "5"
	test ImportLAR {
		property portal.acceptance = "false";
		property testray.component.names = "Training";

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Sites"
		);

		Site.addBlankCP(siteName = "Site Name");

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Sites"
		);

		Page.add(pageName = "Site Page Name", siteName = "Site Name");

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		LAR.importPortlet(
			larFileName = "space-message-boards.lar",
			uploadFrom = "dependencies"
		);

		Navigator.openSiteURL(siteName = "Site Name");

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsCategory.viewCP(
			categoryName = "General Discussion",
			subcategoriesNumber = "0",
			threadsNumber = "1"
		);

		MessageboardsThread.viewReplyWithUpvote(
			postCount = "5",
			threadBody = "Super embarrassing, but does anybody know what to do when the Anti-Gravity Chamber door gets stuck and maintenance has gone for the day? Yesterday was the second time I’ve been in there all night, and I have to say, not liking the ambience.",
			threadReplyBodyList = "Couldn’t you just call somebody?,lol Jonny never has his cell,dude seriously creepy,As the Anti-Gravity Chamber handbook",
			threadSubject = "Stuck in the Anti-Gravity Chamber"
		);

		Navigator.openSiteURL(siteName = "Site Name");

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsCategory.viewCP(
			categoryName = "Homework Discussion",
			subcategoriesNumber = "0",
			threadsNumber = "1"
		);

		MessageboardsThread.viewReplyWithUpvote(
			postCount = "4",
			threadBody = "I’m writing a paper called Mars on a Budget, and I’d be curious to hear from other departments about their thoughts on reducing overall costs of missions and how that can happen at every level without compromising safety or efficiency. After the economic downturn of 2062, budgetary restrictions remain an important concern. Thanks!",
			threadReplyBodyList = "dr novola has some thoughts,one barrier is the inflated cost of materials combined with worker compensation,Are you factoring in environmental impact?",
			threadSubject = "Cost Reduction for Mars"
		);
	}

	@priority = "5"
	test RestoreMessageboardsThread {
		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.addCP(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.moveToRecycleBinCP(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Recycle Bin"
		);

		RecycleBin.restoreCP(
			assetName = "MB Thread Message Subject",
			assetRestoreLocation = "Home",
			assetType = "Message Boards Thread"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Recycle Bin"
		);

		RecycleBin.viewDefaultCP(assetName = "MB Thread Message Subject");

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.viewCP(
			postsNumber = "1",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);
	}

	@priority = "3"
	test SearchMessageBoardsAttachment {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPGWithAttachment(
			mbThreadAttachment = "Document_1.docx",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		SearchPortlet.searchPG(
			portletName = "Message Boards",
			searchTerm = "This is a *.docx file."
		);

		MessageboardsPortlet.viewSearchResultPG(
			mbThreadAttachment = "Document_1.docx",
			searchTerm = "This is a *.doc x file.",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject",
			userName = "Test Test"
		);
	}

	@priority = "3"
	test SplitMBThread {
		var threadBody = "MB Thread Message Body";
		var threadReplyBody = "MB Thread Reply Body";
		var threadSplitReplyBody = "Split Reply Thread Body";
		var threadSplitReplySubject = "Split Reply Thread Subject";
		var threadSplitSubject = "MB Thread Split Subject";
		var threadSubject = "MB Thread Message Subject";

		Page.add(pageName = "${pageName}");

		SitePageNavigator.gotoEditPage(page = "${pageName}");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "${pageName}");

		Portlet.addPG(portletName = "${portletName}");

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.addPG(
			threadBody = "${threadBody}",
			threadSubject = "${threadSubject}"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.replyPG(
			threadBody = "${threadBody}",
			threadReplyBody = "${threadReplyBody}",
			threadSubject = "${threadSubject}"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "2",
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.splitThreadPG(
			threadBody = "${threadBody}",
			threadReplyBody = "${threadReplyBody}",
			threadReplySubject = "${threadReplySubject}",
			threadSplitReplyBody = "${threadSplitReplyBody}",
			threadSplitReplySubject = "${threadSplitReplySubject}",
			threadSplitSubject = "${threadSplitSubject}",
			threadSubject = "${threadSubject}"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.viewSplitThreadPG(
			pageName = "${pageName}",
			threadBody = "${threadBody}",
			threadReplyBody = "${threadReplyBody}",
			threadReplySubject = "${threadReplySubject}",
			threadSplitReplyBody = "${threadSplitReplyBody}",
			threadSplitReplySubject = "${threadSplitReplySubject}",
			threadSplitSubject = "${threadSplitSubject}",
			threadSubject = "${threadSubject}"
		);
	}

	@description = "This is a use case for LPS-65368."
	@priority = "5"
	test ViewBBCodeNoXSSWithRemoteServices {
		property custom.properties = "message.boards.message.formats.default=bbcode";

		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		JSONMBMessage.addMessage(
			threadBody = '''<script>alert(123);</script>''',
			threadSubject = '''<script>alert(123);</script>'''
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Anonymous",
			postCount = "2",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.viewBBCodeNoXSS(
			threadBody = '''<script>alert(123);</script>''',
			threadSubject = '''<script>alert(123);</script>''',
			userName = "Anonymous"
		);

		AssertAlertNotPresent();

		var actualScript = '''<script>alert(123);</script>''';

		var escapedScript = '''&lt;script&gt;alert(123);&lt;/script&gt;''';

		AssertHTMLSourceTextNotPresent(value1 = "${actualScript}");

		AssertHTMLSourceTextPresent(value1 = "${escapedScript}");
	}

	@priority = "3"
	test ViewCategoriesAndThreadsOnTwoScopes {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Page.add(pageName = "Message Boards Page 2");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page 2");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		Portlet.addPG(portletName = "Message Boards");

		MessageboardsPortlet.configureScopePG(
			scopeName = "Message Boards Page 2 (Create New)"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		Portlet.viewPG(portletName = "Message Boards (Message Boards Page 2)");

		Page.add(pageName = "Message Boards Page 3");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page 3");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		Portlet.addPG(portletName = "Message Boards");

		MessageboardsPortlet.configureScopePG(scopeName = "Message Boards Page 2");

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		Portlet.viewPG(portletName = "Message Boards (Message Boards Page 2)");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "MB Root Thread Message Body",
			threadSubject = "MB Root Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.addPG(
			categoryDescription = "MB Category1 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category1 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.addPG(
			categoryDescription = "MB Category2 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category2 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Root Thread Message Body",
			threadSubject = "MB Root Thread Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Root Thread Message Body",
			threadSubject = "MB Root Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.viewPG(
			categoryDescription = "MB Category1 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category1 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.viewPG(
			categoryDescription = "MB Category2 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category2 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category1 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category1 Name"
		);

		MessageboardsThread.addPG(
			threadBody = "MB Thread1 Message Body",
			threadSubject = "MB Thread1 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category2 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category2 Name"
		);

		MessageboardsThread.addPG(
			threadBody = "MB Thread2 Message Body",
			threadSubject = "MB Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category1 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category1 Name"
		);

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread1 Message Body",
			threadSubject = "MB Thread1 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Thread1 Message Body",
			threadSubject = "MB Thread1 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category2 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category2 Name"
		);

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread2 Message Body",
			threadSubject = "MB Thread2 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Thread2 Message Body",
			threadSubject = "MB Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsThread.addPG(
			threadBody = "MB Root Thread2 Message Body",
			threadSubject = "MB Root Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.addPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.addPG(
			categoryDescription = "MB Category4 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category4 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Root Thread2 Message Body",
			threadSubject = "MB Root Thread2 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Root Thread2 Message Body",
			threadSubject = "MB Root Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.viewPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.viewPG(
			categoryDescription = "MB Category4 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category4 Name"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		MessageboardsThread.addPG(
			threadBody = "MB Thread3 Message Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category4 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category4 Name"
		);

		MessageboardsThread.addPG(
			threadBody = "MB Thread4 Message Body",
			threadSubject = "MB Thread4 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread3 Message Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Thread3 Message Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category4 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category4 Name"
		);

		MessageboardsThread.gotoPG(
			categoryDescription = "MB Category4 Description",
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread4 Message Body",
			threadSubject = "MB Thread4 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Thread4 Message Body",
			threadSubject = "MB Thread4 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Root Thread2 Message Body",
			threadSubject = "MB Root Thread2 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Root Thread2 Message Body",
			threadsNumber = "0",
			threadSubject = "MB Root Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		MessageboardsCategory.viewPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name",
			threadsNumber = "0"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		MessageboardsCategory.viewPG(
			categoryDescription = "MB Category4 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category4 Name",
			threadsNumber = "0"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		MessageboardsThread.gotoPG(
			categoryDescription = "MB Category3 Description",
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread3 Message Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Thread3 Message Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category4 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category4 Name"
		);

		MessageboardsThread.gotoPG(
			categoryDescription = "MB Category4 Description",
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread4 Message Body",
			threadSubject = "MB Thread4 Message Subject"
		);

		MessageboardsThread.viewPG(
			threadBody = "MB Thread4 Message Body",
			threadSubject = "MB Thread4 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 3");

		PermissionsInline.gotoMessageBoardsCategoryPG(
			categoryDescription = "MB Category4 Description",
			categoryName = "MB Category4 Name"
		);

		Role.removePermissionPG(
			permissionDefinitionKey = "INLINE_PERMISSIONS_VIEW_CHECKBOX",
			roleName = "Guest"
		);

		User.logoutPG();

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.viewNoPG(categoryName = "MB Category4 Name");

		MessageboardsPortlet.gotoRecentPostsPG();

		MessageboardsCategory.viewNoPG(categoryName = "MB Category4 Name");

		User.loginPG();

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		MessageboardsThread.replyPG(
			mbThreadAttachment = "Document_4.jpeg",
			threadReplyBody = "MB Thread1 Reply Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		MessageboardsCategory.gotoPG(
			categoryDescription = "MB Category3 Description",
			categoryDescriptionEnabled = "true",
			categoryName = "MB Category3 Name"
		);

		Pause(locator1 = "5000");

		MessageboardsThread.viewReplyPG(
			mbThreadAttachment = "Document_4.jpeg",
			postCount = "2",
			threadBody = "MB Thread3 Message Body",
			threadReplyBody = "MB Thread1 Reply Body",
			threadSubject = "MB Thread3 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		Search.searchPG(searchTerm = "MB Thread3 Message Subject");

		MessageboardsPortlet.viewSearchResultPG(
			threadBody = "MB Thread3 Message Body",
			threadSubject = "MB Thread3 Message Subject",
			userName = "Test Test"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		Search.searchPG(searchTerm = "MB Thread4 Message Subject");

		MessageboardsPortlet.viewSearchResultPG(
			threadBody = "MB Thread4 Message Body",
			threadSubject = "MB Thread4 Message Subject",
			userName = "Test Test"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		Search.searchPG(searchTerm = "MB Thread1 Message Subject");

		MessageboardsPortlet.viewNoSearchResultSubjectPG(
			threadSubject = "MB Thread1 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page 2");

		Search.searchPG(searchTerm = "MB Thread2 Message Subject");

		MessageboardsPortlet.viewNoSearchResultSubjectPG(
			threadSubject = "MB Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		Search.searchPG(searchTerm = "MB Thread1 Message Subject");

		MessageboardsPortlet.viewSearchResultPG(
			threadBody = "MB Thread1 Message Body",
			threadSubject = "MB Thread1 Message Subject",
			userName = "Test Test"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		Search.searchPG(searchTerm = "MB Thread2 Message Subject");

		MessageboardsPortlet.viewSearchResultPG(
			threadBody = "MB Thread2 Message Body",
			threadSubject = "MB Thread2 Message Subject",
			userName = "Test Test"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		Search.searchPG(searchTerm = "MB Thread3 Message Subject");

		MessageboardsPortlet.viewNoSearchResultSubjectPG(
			threadSubject = "MB Thread3 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		Search.searchPG(searchTerm = "MB Thread4 Message Subject");

		MessageboardsPortlet.viewNoSearchResultSubjectPG(
			threadSubject = "MB Thread4 Message Subject"
		);
	}

	@priority = "3"
	test ViewCorrectViewPermissionsInMessageBoardsQuickReplyInPrivateSite {
		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Sites"
		);

		Site.addBlankCP(membershipType = "Private", siteName = "Blank Site Name");

		ProductMenu.gotoPortlet(
			category = "Sites",
			panel = "Control Panel",
			portlet = "Sites"
		);

		Page.add(pageName = "Site Page Name", siteName = "Blank Site Name");

		SitePageNavigator.gotoEditPage(page = "Site Page Name");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoSitePage(
			pageName = "Site Page Name",
			siteName = "Blank Site Name"
		);

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoSitePage(
			pageName = "Site Page Name",
			siteName = "Blank Site Name"
		);

		MessageboardsThread.addPGWithPermissions(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject",
			viewableBySelection = "Owner"
		);

		Navigator.gotoSitePage(
			pageName = "Site Page Name",
			siteName = "Blank Site Name"
		);

		MessageboardsThread.quickReplyPG(
			threadReplyBody = "MB Thread Message Subject Reply",
			threadSubject = "MB Thread Message Subject"
		);

		PermissionsInline.gotoMessageBoardsThreadReplyPG(
			pageName = "Site Page Name",
			siteName = "Blank Site Name",
			siteURL = "true",
			threadReplyBody = "MB Thread Message Subject Reply",
			threadSubject = "MB Thread Message Subject"
		);

		for (var roleName : list "Power User,User") {
			PermissionsInline.viewPermissionsRemoved(
				permissionDefinitionKey = "CONFIGURATION_PERMISSIONS_VIEW_CHECKBOX",
				roleName = "${roleName}"
			);
		}

		PermissionsInline.viewPermissionsChecked(
			permissionDefinitionKey = "CONFIGURATION_PERMISSIONS_VIEW_CHECKBOX",
			roleName = "Owner"
		);
	}

	@priority = "4"
	test ViewMBThreadAndReplyThreadInGmail {
		property custom.properties = "message.boards.message.formats.default=html${line.separator}pop.server.notifications.enabled=true${line.separator}pop.server.subdomain=${line.separator}mail.session.mail.smtp.auth=true${line.separator}mail.session.mail.store.protocol=pop3${line.separator}mail.session.mail.transport.protocol=smtp";
		property dummy.socket.proxy.disabled = "true";
		property test.name.skip.portal.instance = "MessageboardsUsecase#ViewMBThreadAndReplyThreadInGmail";
		var portalURL = PropsUtil.get("portal.url");

		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		ProductMenu.gotoPortlet(
			category = "Configuration",
			panel = "Control Panel",
			portlet = "Server Administration"
		);

		ServerAdministration.configureMailServerSettings(
			userName = PropsUtil.get("email.address.2"),
			userPassword = PropsUtil.get("email.password.2")
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Configuration",
			panel = "Control Panel",
			portlet = "Virtual Instances"
		);

		PortalInstances.editCP(mailDomain = "gmail.com", virtualHost = "localhost");

		ProductMenu.gotoPortlet(
			category = "Configuration",
			panel = "Control Panel",
			portlet = "Server Administration"
		);

		ServerAdministration.executeServerResourcesActions(
			actionsDescription = "Reindex all search indexes."
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.addCP(
			userEmailAddress = PropsUtil.get("email.address.4"),
			userFirstName = "userfn",
			userLastName = "userln",
			userScreenName = "usersn"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.editPasswordCP(
			userEmailAddress = PropsUtil.get("email.address.4"),
			userScreenName = "usersn"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.editUserSiteCP(siteName = "${siteName}", userScreenName = "usersn");

		User.editEmailViaMyAccount(userEmailAddress = PropsUtil.get("email.address.3"));

		MessageboardsPortlet.configureMessageEmailFromCP(
			emailFromAddress = PropsUtil.get("email.address.2")
		);

		Navigator.openURL();

		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.addPG(categoryName = "MB Category Name");

		User.logoutPG();

		User.loginPG(
			password = "test",
			userEmailAddress = PropsUtil.get("email.address.4")
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(categoryName = "MB Category Name");

		MessageboardsPortlet.subscribePG();

		User.logoutPG();

		User.loginPG(
			password = "test",
			userEmailAddress = PropsUtil.get("email.address.3")
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(categoryName = "MB Category Name");

		MessageboardsThread.addPG(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject G7MB1"
		);

		Pause(locator1 = "30000");

		Gmail.login(
			userEmailAddress = PropsUtil.get("email.address.4"),
			userPassword = PropsUtil.get("email.password.4")
		);

		Gmail.gotoHtmlMode();

		Gmail.viewMail(
			emailFromUserName = "Test Test",
			gmailAssetType = "G7MB1",
			gmailMessageBody = "MB Thread Message Body",
			gmailMessageTitle = "MB Category Name New Message: MB Thread Message Subject G7MB1"
		);

		Gmail.replyMail(gmailReplyMessage = "MB Thread Message Subject G7MB1 Reply");

		Navigator.openSpecificURL(url = "${portalURL}");

		Pause(locator1 = "60000");

		Refresh();

		AssertVisible(locator1 = "Notifications#PROFILE_BADGE_COUNT");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsCategory.gotoPG(categoryName = "MB Category Name");

		MessageboardsThread.viewReplyPG(
			postCount = "2",
			threadBody = "MB Thread Message Body",
			threadReplyBody = "MB Thread Message Subject G7MB1 Reply",
			threadSubject = "MB Thread Message Subject G7MB1",
			userName = "userfn userln"
		);

		Gmail.gotoHtmlMode();

		Gmail.deleteSpecificMail(
			gmailMessageTitleList = "MB Category Name New Message: MB Thread Message Subject G7MB1,Your New Account,Your New Password,G7MB1"
		);
	}

	@priority = "3"
	test ViewMessageBoardsBannedUsers {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.addCP(
			userEmailAddress = "userea1@liferay.com",
			userFirstName = "userfn1",
			userLastName = "userln1",
			userScreenName = "usersn1"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.editPasswordCP(
			userEmailAddress = "userea1@liferay.com",
			userScreenName = "usersn1"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.addCP(
			userEmailAddress = "userea2@liferay.com",
			userFirstName = "userfn2",
			userLastName = "userln2",
			userScreenName = "usersn2"
		);

		ProductMenu.gotoPortlet(
			category = "Users",
			panel = "Control Panel",
			portlet = "Users and Organizations"
		);

		User.editPasswordCP(
			userEmailAddress = "userea2@liferay.com",
			userScreenName = "usersn2"
		);

		PermissionsInline.gotoMessageBoardsPG(pageName = "Message Boards Page");

		for (var permissionDefinitionKey : list "INLINE_PERMISSIONS_REPLY_TO_MESSAGE_CHECKBOX,INLINE_PERMISSIONS_VIEW_CHECKBOX") {
			Role.definePermissionPG(
				permissionDefinitionKey = "${permissionDefinitionKey}",
				roleName = "User"
			);
		}

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		User.logoutPG();

		User.loginPG(password = "test", userEmailAddress = "userea1@liferay.com");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.replyPG(
			threadReplyBody = "MB Thread1 Reply Body",
			threadSubject = "MB Thread Message Subject"
		);

		User.logoutPG();

		User.loginPG(password = "test", userEmailAddress = "userea2@liferay.com");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.replyPG(
			threadReplyBody = "MB Thread2 Reply Body",
			threadSubject = "MB Thread Message Subject"
		);

		User.logoutPG();

		User.loginPG();

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.gotoPG(
			lastPostUserName = "userfn2 userln2",
			postCount = "3",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.banUser(
			threadSubject = "MB Thread Message Subject",
			userName = "userfn1 userln1"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.gotoPG(
			lastPostUserName = "userfn2 userln2",
			postCount = "3",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.banUser(
			threadSubject = "MB Thread Message Subject",
			userName = "userfn2 userln2"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsPortlet.viewBannedUserPG(userScreenName = "userfn1 userln1");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsPortlet.viewBannedUserPG(userScreenName = "userfn2 userln2");
	}

	@priority = "4"
	test ViewMessageBoardsRSS {
		var siteName = TestCase.getSiteName(siteName = "${siteName}");

		Page.add(
			columnName = "1 Column",
			pageName = "Message Boards Page",
			sitePageType = "Empty Page"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		MessageboardsThread.addPG(
			threadBody = "MB Thread Message Body 1",
			threadSubject = "MB Thread Message Subject 1"
		);

		MessageboardsThread.addPG(
			threadBody = "MB Thread Message Body 2",
			threadSubject = "MB Thread Message Subject 2"
		);

		RSS.viewFeed(
			entryContent = "MB Thread Message Body 2",
			entryTitle = "MB Thread Message Subject 2",
			feedSubtitle = "MB Thread Message Subject 2",
			feedTitle = "MB Thread Message Subject 2",
			rssURL = "message_boards"
		);

		Click(locator1 = "NavBar#HOME");

		Click(
			locator1 = "ListGroupItem#ITEM_ACTIONS",
			key_itemName = "MB Thread Message Subject 1"
		);

		RSS.viewFeed(
			entryContent = "MB Thread Message Body 1",
			entryTitle = "MB Thread Message Subject 1",
			feedSubtitle = "MB Thread Message Subject 1",
			feedTitle = "MB Thread Message Subject 1",
			rssURL = "message_boards"
		);

		Click(locator1 = "NavBar#HOME");

		RSS.gotoFeed(rssURL = "message_boards");

		RSS.viewFeedEntry(
			entryContent = "MB Thread Message Body 1,MB Thread Message Body 2",
			entryTitle = "MB Thread Message Subject 1,MB Thread Message Subject 2"
		);
	}

	@priority = "4"
	test ViewMessageBoardsThreadStatistics {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "MB Thread1 Message Body",
			threadSubject = "MB Thread1 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.viewStatisticsPostsCountPG(
			threadPostNumber = "1",
			userName = "Test Test"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "1",
			threadBody = "MB Thread1 Message Body",
			threadSubject = "MB Thread1 Message Subject"
		);

		MessageboardsThread.editPG(
			saveAsDraft = "true",
			threadBodyEdit = "MB Thread1 Message Body Edit",
			threadSubject = "MB Thread1 Message Subject",
			threadSubjectEdit = "MB Thread1 Message Subject Edit"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.viewStatisticsPostsCountDefaultPG();

		MessageboardsThread.editViaMyPosts(
			threadSubject = "MB Thread1 Message Subject Edit",
			threadSubjectEdit = "true"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.viewStatisticsPostsCountPG(
			lastPostUserName = "Test Test",
			startedByUserName = "Test Test",
			threadPostNumber = "1"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "MB Thread2 Message Body",
			threadSubject = "MB Thread2 Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.viewStatisticsPostsCountPG(
			lastPostUserName = "Test Test",
			startedByUserName = "Test Test",
			threadPostNumber = "2"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.deletePG(threadSubject = "MB Thread2 Message Subject");

		MessageboardsThread.viewStatisticsPostsCountPG(
			threadPostNumber = "1",
			userName = "Test Test"
		);
	}

	@description = "This is a use case for LPS-65365."
	@priority = "5"
	test ViewNoHTMLXSS {
		property custom.properties = "message.boards.message.formats.default=html";

		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "",
			threadSubject = '''<script>alert(123);</script>'''
		);

		MessageboardsThread.viewNoXSSPG(
			threadBody = "",
			threadSubject = '''<script>alert(123);</script>'''
		);

		AssertAlertNotPresent();

		var actualScript = '''<script>alert(123);</script>''';

		var escapedScript = '''&lt;script&gt;alert(123);&lt;/script&gt;''';

		AssertHTMLSourceTextNotPresent(value1 = "${actualScript}");

		AssertHTMLSourceTextPresent(value1 = "${escapedScript}");
	}

	@priority = "4"
	test ViewNoMBThreadXSS {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			source = "true",
			threadBody = "[img]asd[font= onerror=alert(/This is an XSS Message/.source)//]FF[/font][/img]",
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.viewNoXSSPG(
			threadBody = "[img]asd[font= onerror=alert(/This is an XSS Message/.source)//]FF[/font][/img]",
			threadSubject = "MB Thread Message Subject"
		);
	}

	@priority = "4"
	test ViewNoSubscribeLinksNoWithEmailNotificationsDisabled {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		MessageboardsCategory.addPG(
			categoryName = "MB Category Name",
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.addPG(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		var key_categoryName = "MB Category Name";
		var key_threadSubject = "MB Thread Message Subject";

		AssertTextEquals(
			locator1 = "MessageBoards#SUBSCRIBE_LINK",
			value1 = "Subscribe"
		);

		Click(locator1 = "MessageBoards#CATEGORY_LIST_ACTIONS");

		AssertTextEquals(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			value1 = "Subscribe",
			key_menuItem = "Subscribe"
		);

		AssertClick(
			locator1 = "MessageBoards#CATEGORY_LIST_CATEGORY",
			value1 = "MB Category Name"
		);

		AssertTextEquals(locator1 = "Link#SUBSCRIBE", value1 = "Subscribe");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Click(locator1 = "MessageBoards#VERTICAL_ELLIPSIS");

		AssertTextEquals(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			value1 = "Unsubscribe",
			key_menuItem = "Unsubscribe"
		);

		AssertClick(
			locator1 = "MessageBoards#THREAD_LIST_THREAD",
			value1 = "MB Thread Message Subject"
		);

		AssertTextEquals(
			locator1 = "MessageBoardsThread#THREAD_ACTIONS_UNSUBSCRIBE",
			value1 = "Unsubscribe"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsPortlet.configureMessageAddedEmailCP(
			messageAddedEmailEnabled = "false"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsPortlet.configureMessageUpdatedEmailCP(
			messageUpdatedEmailEnabled = "false"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		AssertElementNotPresent(locator1 = "MessageBoards#SUBSCRIBE_LINK");

		Click(locator1 = "MessageBoards#CATEGORY_LIST_ACTIONS");

		AssertElementNotPresent(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			key_menuItem = "Subscribe"
		);

		AssertClick(
			locator1 = "MessageBoards#CATEGORY_LIST_CATEGORY",
			value1 = "MB Category Name"
		);

		AssertElementNotPresent(locator1 = "Link#SUBSCRIBE");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Click(locator1 = "MessageBoards#VERTICAL_ELLIPSIS");

		AssertElementNotPresent(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			key_menuItem = "Unsubscribe"
		);

		AssertClick(
			locator1 = "MessageBoards#THREAD_LIST_THREAD",
			value1 = "MB Thread Message Subject"
		);

		AssertElementNotPresent(
			locator1 = "MessageBoardsThread#THREAD_ACTIONS_UNSUBSCRIBE"
		);
	}

	@priority = "3"
	test ViewQuestionOnSplitThread {
		Page.add(pageName = "${pageName}");

		SitePageNavigator.gotoEditPage(page = "${pageName}");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "${pageName}");

		Portlet.addPG(portletName = "${portletName}");

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.addPGAsQuestion(
			threadBody = "MB Thread Message Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.viewMarkedAsQuestionPG(
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.replyPG(
			threadReplyBody = "MB Thread Split Reply Body",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.gotoPG(
			lastPostUserName = "Test Test",
			postCount = "2",
			threadSubject = "MB Thread Message Subject"
		);

		MessageboardsThread.splitThreadPG(
			threadReplyBody = "MB Thread Split Reply Body",
			threadSplitReplyBody = "Split Reply Thread Body",
			threadSplitReplySubject = "Split Reply Thread Subject",
			threadSplitSubject = "MB Thread Split Subject",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.viewSplitThreadPG(
			pageName = "${pageName}",
			threadBody = "MB Thread Message Body",
			threadReplyBody = "MB Thread Split Reply Body",
			threadSplitReplyBody = "Split Reply Thread Body",
			threadSplitReplySubject = "Split Reply Thread Subject",
			threadSplitSubject = "MB Thread Split Subject",
			threadSubject = "MB Thread Message Subject"
		);

		Navigator.gotoPage(pageName = "${pageName}");

		MessageboardsThread.viewMarkedAsQuestionPG(
			threadSubject = "MB Thread Message Subject"
		);
	}

	@priority = "3"
	test ViewThreadDefaultQuestion {
		Page.add(pageName = "Message Boards Page");

		SitePageNavigator.gotoEditPage(page = "Message Boards Page");

		Page.editPageLayoutColumn(columnName = "1 Column");

		Navigator.gotoPage(pageName = "Message Boards Page");

		Portlet.addPG(portletName = "Message Boards");

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.viewMarkAsQuestionNotCheckedCP(
			threadSubject = "Thread Subject"
		);

		MessageboardsPortlet.configureGeneralCP(
			threadAsQuestionByDefaultEnabled = "true"
		);

		Navigator.openURL();

		ProductMenu.gotoPortlet(
			category = "Content",
			panel = "Site Administration",
			portlet = "Message Boards"
		);

		MessageboardsThread.viewMarkAsQuestionCheckedCP(
			threadSubject = "Thread Subject"
		);

		MessageboardsThread.addCP(
			threadBody = "Thread Body",
			threadSubject = "Thread Subject"
		);

		Navigator.openURL();

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.replyPG(
			markAsAnswer = "true",
			markAsQuestion = "true",
			threadReplyBody = "Thread Reply Body",
			threadSubject = "Thread Subject"
		);

		Navigator.openURL();

		Navigator.gotoPage(pageName = "Message Boards Page");

		MessageboardsThread.viewAnswerPG(threadSubject = "Thread Subject");
	}
}