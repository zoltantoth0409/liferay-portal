<definition component-name="portal-wcm">
	<property name="portal.release" value="true" />
	<property name="portal.upstream" value="true" />
	<property name="testray.main.component.name" value="Site Administration" />

	<set-up>
		<execute macro="TestCase#setUpPortalInstance" />

		<execute macro="User#firstLoginPG" />
	</set-up>

	<tear-down>
		<var method="PropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="PortalInstances#tearDownCP" />
			</then>
			<else>
				<execute macro="User#tearDownCP" />

				<execute macro="Site#tearDownCP" />

				<execute macro="Organization#tearDownCP" />

				<execute macro="Team#tearDownCP" />

				<execute macro="Page#tearDownCP" />

				<execute macro="UserGroup#tearDownCP" />
			</else>
		</if>
	</tear-down>

	<command name="AddOrganizationSitesAndDeactivate" priority="5">
		<property name="portal.acceptance" value="pending" />
		<property name="test.name.skip.portal.instance" value="SitesadministrationUsecase#AddOrganizationSitesAndDeactivate" />
		<property name="testray.component.names" value="Site Administration,Training,Users and Organizations" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="System Settings" />
		</execute>

		<execute macro="SystemSettings#gotoConfiguration">
			<var name="configurationCategory" value="Infrastructure" />
			<var name="configurationName" value="Inactive Request Handler" />
			<var name="configurationScope" value="System Scope" />
		</execute>

		<execute macro="FormFields#enableCheckbox">
			<var name="fieldName" value="show.inactive.request.message" />
		</execute>

		<execute macro="SystemSettings#saveConfiguration" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name 1" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Community Site" />
			<var name="orgName" value="Organization Name 1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#manageMembershipOptionsInSites">
			<var name="allowManualMembershipManagement" value="true" />
			<var name="membershipType" value="Open" />
			<var name="orgName" value="Organization Name 1" />
			<var name="selectMembershipType" value="true" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#viewCP">
			<var name="siteMember" value="Organization" />
			<var name="siteName" value="Organization Name 1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name 2" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Intranet Site" />
			<var name="orgName" value="Organization Name 2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#manageMembershipOptionsInSites">
			<var name="allowManualMembershipManagement" value="true" />
			<var name="membershipType" value="Open" />
			<var name="orgName" value="Organization Name 2" />
			<var name="selectMembershipType" value="true" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#viewCP">
			<var name="siteMember" value="Organization" />
			<var name="siteName" value="Organization Name 2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Site#assignUserSitesCP">
			<var name="siteName" value="Organization Name 1" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Site#assignUserSitesCP">
			<var name="siteName" value="Organization Name 2" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#assignRegRoleCP">
			<var name="roleTitle" value="Administrator" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Organization Name 1" />
		</execute>

		<execute macro="Page#viewDefaultSiteTemplatePagesPG">
			<var name="pageName" value="Home" />
			<var name="siteName" value="Organization Name 1" />
			<var name="siteTemplate" value="Community" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Organization Name 2" />
		</execute>

		<execute macro="Page#viewDefaultSiteTemplatePagesPG">
			<var name="pageName" value="Home" />
			<var name="siteName" value="Organization Name 2" />
			<var name="siteTemplate" value="Intranet" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Organization Name 2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#deactivateCP">
			<var name="siteName" value="Organization Name 2" />
			<var name="successMessage" value="true" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Organization Name 2" />
		</execute>

		<execute macro="Page#viewInactiveRequestMessage">
			<var name="resource" value="site" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="AddSiteNameTranslations" priority="4">
		<property name="testray.component.names" value="Localization,Site Administration" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="PortletEntry#inputLocalizedName">
			<var name="language" value="es_ES" />
			<var name="localizedName" value="Nombre del Sitio" />
		</execute>

		<execute macro="PortletEntry#inputLocalizedName">
			<var name="language" value="zh_CN" />
			<var name="localizedName" value="站点名称" />
		</execute>

		<execute macro="PortletEntry#save" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Page Name" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Page Name" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Language Selector" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Page Name" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Page#viewSiteNameTranslationsPG">
			<var name="locale" value="en-us" />
			<var name="siteName" value="Site Name" />
			<var name="textIcon" value="English-United States" />
		</execute>

		<execute macro="Page#viewSiteNameTranslationsPG">
			<var name="locale" value="es-ES" />
			<var name="siteName" value="Nombre del Sitio" />
			<var name="textIcon" value="español-España" />
		</execute>

		<execute macro="Page#viewSiteNameTranslationsPG">
			<var name="locale" value="zh-CN" />
			<var name="siteName" value="站点名称" />
			<var name="textIcon" value="中文-中国" />
		</execute>

		<execute macro="LanguagePortlet#tearDownLanguagePG" />
	</command>

	<command name="MySitesDropDownDoesNotShowUserOrganizationOnTop" priority="3">
		<property name="testray.component.names" value="Site Administration,Users and Organization" />

		<for list="Site1 Name,Site2 Name,Site3 Name,Site4 Name,Site5 Name,Site6 Name,Site7 Name,Site8 Name,Site9 Name,Site10 Name" param="siteNameListsCount">
			<execute macro="ProductMenu#gotoPortlet">
				<var name="category" value="Sites" />
				<var name="panel" value="Control Panel" />
				<var name="portlet" value="Sites" />
			</execute>

			<execute macro="Site#addCommunityCP">
				<var name="siteName" value="${siteNameListsCount}" />
			</execute>
		</for>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Site Organization Name" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Community Site" />
			<var name="orgName" value="Site Organization Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addMemberCP">
			<var name="orgName" value="Site Organization Name" />
			<var name="userFirstName" value="Test" />
			<var name="userLastName" value="Test" />
			<var name="userName" value="Test Test" />
			<var name="userScreenName" value="test" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Organization Name" />
		</execute>
	</command>

	<command name="OnlySiteOwnersCanAssignSiteRolesToUserGroups" priority="3">
		<property name="testray.component.names" value="Site Administration,User Groups" />

		<execute macro="TestCase#getSiteName">
			<return name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Roles Siterole Name" />
			<var name="roleTitle" value="Roles Siterole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="UG UserGroup Name" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignUserGroupAsMemberCP">
			<var name="userGroupName" value="UG UserGroup Name" />
		</execute>

		<execute macro="JSONRole#addRegularRole">
			<var name="roleKey" value="Roles Regrole Name" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<for list="ASSIGN_MEMBERS,ASSIGN_USER_ROLES,VIEW_SITE_ADMINISTRATION" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com.liferay.portal.kernel.model.Group" />
				<var name="roleTitle" value="Roles Regrole Name" />
			</execute>
		</for>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW_CONTROL_PANEL" />
			<var name="resourceName" value="90" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ASSIGN_MEMBERS" />
			<var name="resourceName" value="com.liferay.portal.kernel.model.Role" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#assignRegRoleCP">
			<var name="roleTitle" value="Roles Regrole Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#logoutAndLoginPG">
			<var name="userLoginEmailAddress" value="userea@liferay.com" />
			<var name="userLoginFullName" value="userfn userln" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignSiteRoleCP">
			<var name="resourceName" value="userfn userln" />
			<var name="roleTitle" value="Roles Siterole Name" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="NavItem#gotoUserGroups" />

		<execute function="AssertElementPresent" locator1="Message#EMPTY_INFO" />

		<execute macro="User#logoutAndLoginPG">
			<var name="userLoginEmailAddress" value="test@liferay.com" />
			<var name="userLoginFullName" value="test test" />
		</execute>
	</command>

	<command name="PrivateVirtualHostUrlDoesNotRedirectUserToLoginPage" priority="4">
		<property name="testray.component.names" value="Site Administration" />

		<execute macro="TestCase#getSiteName">
			<return name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Settings" />
		</execute>

		<execute macro="Site#addVirtualHostsURLCP">
			<var name="privatePageVirtualHostURL" value="www.able.com" />
			<var name="privateVirtualHosts" value="true" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="SitePages#addPrivatePage">
			<var name="pageName" value="Test Private Page" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.able.com:8080/test-private-page" />
		</execute>

		<execute macro="Site#viewPrivateVirtualHostUrlUserLoginRedirect">
			<var name="userEmailAddress" value="@liferay.com" />
		</execute>

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="virtualHostsURL" value="http://www.able.com:8080/test-private-page" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.able.com:8080/test-private-page" />
		</execute>

		<execute function="AssertLocation" value1="http://www.able.com:8080/test-private-page" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="ReturnWrongLayoutForSignedInUserWithVirtualHostsConfigured" priority="3">
		<property name="custom.properties" value="layout.default.template.id=2_columns_iii${line.separator}layout.user.private.layouts.enabled=false${line.separator}layout.user.private.layouts.auto.create=false${line.separator}layout.user.private.layouts.power.user.required=true${line.separator}layout.user.public.layouts.enabled=false${line.separator}layout.user.public.layouts.auto.create=false${line.separator}layout.user.public.layouts.power.user.required=true" />
		<property name="test.name.skip.portal.instance" value="SiteadministrationUsecase#ReturnWrongLayoutForSignedInUserWithVirtualHostsConfigured" />
		<property name="testray.component.names" value="Site Administration" />

		<execute macro="TestCase#getSiteName">
			<return name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Instance Settings" />
		</execute>

		<execute macro="PortalSettings#editVirtualHostCP">
			<var name="virtualHostName" value="www.able.com" />
		</execute>

		<execute macro="PortalSettings#editConfigurationAuthenticationGeneral">
			<var name="enableRequireStrangers" value="true" />
		</execute>

		<execute macro="PortalSettings#editConfigurationUsersEmailNotificationsCP" />

		<execute macro="PortalSettings#editConfigurationUsersEmailVerificationNotificationsCP" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Site#addVirtualHostsURLCP">
			<var name="publicPageVirtualHostURL" value="www.baker.com" />
			<var name="publicVirtualHosts" value="true" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Site Page Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Server Administration" />
		</execute>

		<execute macro="ServerAdministration#configureMailServerSettings">
			<var method="PropsUtil#get('email.address.1')" name="userName" />
			<var method="PropsUtil#get('email.password.1')" name="userPassword" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.able.com:8080/" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#addCreateAccountPG">
			<var method="PropsUtil#get('email.address.2')" name="userEmailAddress" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Gmail#login">
			<var method="PropsUtil#get('email.address.2')" name="userEmailAddress" />
			<var method="PropsUtil#get('email.password.2')" name="userPassword" />
		</execute>

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#gotoMail">
			<var name="emailFromUserName" value="Joe Bloggs" />
			<var name="gmailAssetType" value="New Account" />
			<var name="gmailMessageTitle" value="Your New Account" />
		</execute>

		<var method="selenium#getText(Gmail#EMAIL_PASSWORD)" name="emailPassword" />

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#gotoMail">
			<var name="emailFromUserName" value="Joe Bloggs" />
			<var name="gmailAssetType" value="Address Verification" />
			<var name="gmailMessageTitle" value="Email Address Verification" />
		</execute>

		<var method="selenium#getText(Gmail#EMAIL_VERIFICATION_CODE)" name="emailVerification" />

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#deleteSpecificMail">
			<var name="gmailMessageTitleList" value="Email Address Verification,Your New Account,Your New Password" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="User#signInPG">
			<var name="emailPassword" value="${emailPassword}" />
			<var name="emailVerification" value="${emailVerification}" />
			<var method="PropsUtil#get('email.address.2')" name="userEmailAddress" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Instance Settings" />
		</execute>

		<execute macro="PortalSettings#editConfigurationUsersEmailVerificationNotificationsCP">
			<var name="emailVerificationURL" value="true" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.baker.com:8080/" />
		</execute>

		<execute macro="User#editEmailViaMyAccount">
			<var method="PropsUtil#get('email.address.3')" name="userEmailAddress" />
		</execute>

		<execute macro="Gmail#logoutAndLogin">
			<var method="PropsUtil#get('email.address.3')" name="userEmailAddress" />
			<var method="PropsUtil#get('email.password.3')" name="userPassword" />
		</execute>

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#gotoMail">
			<var name="emailFromUserName" value="Joe Bloggs" />
			<var name="gmailAssetType" value="Address Verification" />
			<var name="gmailMessageTitle" value="Email Address Verification" />
		</execute>

		<var method="selenium#getText(Gmail#EMAIL_ADDRESS_VERIFICATION_URL)" name="emailAddressVerificationURL" />

		<execute function="Click" locator1="Gmail#EMAIL_ADDRESS_VERIFICATION_URL" />

		<execute function="SelectWindow" locator1="title=Verify Email Address - ${siteName}" />
		<execute function="AssertLocation" value1="${emailAddressVerificationURL}" />

		<execute macro="Gmail#gotoHtmlMode" />

		<execute macro="Gmail#deleteSpecificMail">
			<var name="gmailMessageTitleList" value="Email Address Verification,Your New Account,Your New Password" />
		</execute>
	</command>

	<command name="SiteFriendlyURLLayoutImporter" priority="3">
		<property name="testray.component.names" value="Site Administration" />

		<var method="PropsUtil#get('portal.url')" name="portalURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="User Group Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#gotoAddPageCP">
			<var name="userGroupName" value="User Group Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="site Page Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="User Group Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="UserBar#gotoDashboard" />

		<execute function="AssertLocation" value1="${portalURL}/user/usersn" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Site Page Name" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Settings" />
		</execute>

		<execute macro="Site#editFriendlyURLCP">
			<var name="siteFriendlyURLEdit" value="/liferay" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="${portalURL}/web/liferay/site-page-name" />
		</execute>

		<execute function="AssertLocation" value1="${portalURL}/web/liferay/site-page-name" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Settings" />
		</execute>

		<execute macro="Site#editFriendlyURLCP">
			<var name="siteFriendlyURLEdit" value="/guest" />
		</execute>
	</command>

	<command name="SitesDeactivated" priority="3">
		<property name="test.name.skip.portal.instance" value="SitesadministrationUsecase#SitesDeactivated" />
		<property name="testray.component.names" value="Site Administration" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="System Settings" />
		</execute>

		<execute macro="SystemSettings#gotoConfiguration">
			<var name="configurationCategory" value="Infrastructure" />
			<var name="configurationName" value="Inactive Request Handler" />
			<var name="configurationScope" value="System Scope" />
		</execute>

		<execute macro="FormFields#enableCheckbox">
			<var name="fieldName" value="show.inactive.request.message" />
		</execute>

		<execute macro="SystemSettings#saveConfiguration" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site1 Name" />
		</execute>

		<execute macro="Site#selectPageType">
			<var name="selectPublicPages" value="true" />
			<var name="siteTemplate" value="Community Site" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site2 Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Settings" />
		</execute>

		<execute macro="Site#editCP">
			<var name="siteName" value="Site2 Name" />
			<var name="siteNameEdit" value="Site2 Name Edit" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Site1 Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site1 Name" />
		</execute>

		<execute macro="Page#viewDefaultSiteTemplatePagesPG">
			<var name="pageName" value="Home" />
			<var name="siteName" value="Site1 Name" />
			<var name="siteTemplate" value="Community" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site1 Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Settings" />
		</execute>

		<execute macro="Site#inactivateCP">
			<var name="siteName" value="Site1 Name" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site1 Name" />
		</execute>

		<execute macro="Page#viewInactiveRequestMessage">
			<var name="resource" value="site" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="SitesDemoSiteManagement" priority="4">
		<property name="test.name.skip.portal.instance" value="SitesadministrationUsecase#SitesDemoSiteManagement" />
		<property name="testray.component.names" value="Site Administration,Site Pages Administration" />

		<var method="PropsUtil#get('portal.url')" name="portalURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="membershipTypeOption" value="Open" />
			<var name="siteDescription" value="This is the site description test" />
			<var name="siteDetails" value="true" />
			<var name="siteName" value="World Cup - Russia 2018" />
		</execute>

		<for list="World Cup,Russia,2018" param="tagName">
			<execute macro="Tag#addViaSiteCP">
				<var name="tagName" value="${tagName}" />
			</execute>
		</for>

		<execute macro="Site#addVirtualHostsURLCP">
			<var name="privatePageVirtualHostURL" value="www.baker.com" />
			<var name="privateVirtualHosts" value="true" />
			<var name="publicPageVirtualHostURL" value="www.able.com" />
			<var name="publicVirtualHosts" value="true" />
		</execute>

		<execute macro="Site#editFriendlyURLCP">
			<var name="siteFriendlyURLEdit" value="/russia2018" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<for list="Home,Arenas" param="publicPageName">
			<execute macro="SitePages#addPublicPage">
				<var name="pageName" value="${publicPageName}" />
			</execute>
		</for>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<for list="Arena Baltika,Zenit Arena,Kazan Arena" param="childPageName">
			<execute macro="SitePages#addPublicChildPage">
				<var name="childPageName" value="${childPageName}" />
				<var name="parentPageName" value="Arenas" />
			</execute>
		</for>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<for list="Accomodations,Maps" param="privatePageName">
			<execute macro="SitePages#addPrivatePage">
				<var name="pageName" value="${privatePageName}" />
			</execute>
		</for>

		<execute macro="Site#changeSiteLogo">
			<var name="logoFile" value="Document_3.png" />
			<var name="pageName" value="Public Pages" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="Page#addJavaScript">
			<var name="javaScript" value="alert('Welcome to Russia.');" />
			<var name="pageName" value="Arenas" />
		</execute>

		<execute function="Open#openNoError" locator1="${portalURL}/web/russia2018/Arenas" />

		<execute function="Confirm" value1="Welcome to Russia." />

		<execute macro="User#logoutPG" />

		<execute function="Open#openNoError" locator1="${portalURL}/web/russia2018/Arenas" />

		<execute function="Confirm" value1="Welcome to Russia." />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute function="Open#openNoError" locator1="${portalURL}/web/russia2018" />

		<execute macro="Page#viewCustomLogoPG" />

		<for list="Arena Baltika,Zenit Arena,Kazan Arena" param="childPageName">
			<execute macro="Page#viewChildPageDropdown">
				<var name="childPageName" value="${childPageName}" />
				<var name="javaScriptPage" value="Welcome to Russia." />
				<var name="pageName" value="Arenas" />
				<var name="viewChildPageDropdown" value="PAGE_2" />
			</execute>
		</for>

		<execute function="Open#openNoError" locator1="${portalURL}/web/russia2018" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="Page#addJavaScript">
			<var name="javaScript" value=" " />
			<var name="pageName" value="Arenas" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Site#assignUserSitesCP">
			<var name="siteName" value="World Cup - Russia 2018" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Site Administrator" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="virtualHostsURL" value="www.baker.com:8080/group/russia2018" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="http://www.baker.com:8080/group/russia2018" />
		</execute>

		<execute macro="Page#viewSpecificPG">
			<var name="pageNameList" value="Accomodations,Maps" />
		</execute>

		<execute macro="Navigator#openSpecificURL">
			<var name="url" value="${portalURL}/web/russia2018" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Publishing" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Export" />
		</execute>

		<execute macro="LexiconEntry#gotoAdd" />

		<execute macro="LAR#exportSuccess" />

		<execute macro="LexiconEntry#changeDisplayStyle">
			<var name="displayStyle" value="table" />
		</execute>

		<var method="selenium#getText('//tr/td[7]//span/a')" name="valueName" />

		<echo message="value name ${valueName}" />

		<var method="RegexUtil#replace('${valueName}', '([a-zA-z0-9_.-]*)[(0-9KB)]*', '1')" name="larFileName" />

		<echo message="import file name ${larFileName}" />

		<execute macro="LexiconEntry#changeDisplayStyle">
			<var name="displayStyle" value="list" />
		</execute>

		<execute function="Click" locator1="SitePagesExport#CURRENT_AND_PREVIOUS_DOWNLOAD" />
		<execute function="DownloadTempFile" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="LAR#importSiteCP">
			<var name="larFileName" value="${larFileName}" />
			<var name="siteName" value="Site Name" />
		</execute>

		<for list="Arena Baltika,Zenit Arena,Kazan Arena" param="childPageName">
			<execute macro="Navigator#gotoSitePage">
				<var name="pageName" value="Home" />
				<var name="siteName" value="Site Name" />
			</execute>

			<execute macro="Page#viewChildPageDropdown">
				<var name="childPageName" value="${childPageName}" />
				<var name="pageName" value="Arenas" />
				<var name="viewChildPageDropdown" value="PAGE_2" />
			</execute>
		</for>
	</command>

	<command name="SiteTeamsPermissions" priority="4">
		<property name="testray.component.names" value="Permissions,Site Administration" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Build" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Blog Page Template" />
			<var name="pageTemplateName" value="Blog" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Site Name" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Site Name" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription" value="Site Team Description" />
			<var name="teamName" value="Site Team Name" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="Team#assignMembersCP">
			<var name="teamName" value="Site Team Name" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="Blog Page Template" />
		</execute>

		<execute macro="Role#removePermissionPG">
			<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_VIEW_CHECKBOX" />
			<var name="roleTitle" value="Guest" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Blog Page Template" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="Blog Page Template" />
		</execute>

		<for list="CONTENT_PERMISSIONS_ADD_DISCUSSION_CHECKBOX,CONTENT_PERMISSIONS_VIEW_CHECKBOX" param="permissionsInLineUncheckListsCount">
			<execute macro="Role#removePermissionPG">
				<var name="permissionDefinitionKey" value="${permissionsInLineUncheckListsCount}" />
				<var name="roleTitle" value="Site Member" />
			</execute>
		</for>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Blog Page Template" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="Blog Page Template" />
		</execute>

		<for list="ACTION_ADD_DISCUSSION,ACTION_ADD_LAYOUT,ACTION_CONFIGURE_PORTLETS,ACTION_CUSTOMIZE,ACTION_DELETE,ACTION_DELETE_DISCUSSION,ACTION_PERMISSIONS,ACTION_UPDATE,ACTION_UPDATE_DISCUSSION,ACTION_VIEW" param="permissionsInLineCheckListsCount">
			<execute macro="Team#definePermissionPG">
				<var name="permissionDefinitionKey" value="${permissionsInLineCheckListsCount}" />
				<var name="teamName" value="Site Team Name" />
			</execute>
		</for>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Blog Page Template" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="PageTemplate#viewDefaultPortletPG">
			<var name="pageTemplateName" value="Blog" />
			<var name="portletTitleList" value="Blogs,Tag Cloud,Recent Bloggers" />
		</execute>

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea2@liferay.com" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute function="AssertElementNotPresent" locator1="Home#PAGE" />

		<execute macro="User#firstLoginPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="SiteTeamsXSS" priority="4">
		<property name="testray.component.names" value="Site Administration,XSS" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription"><![CDATA[<script>alert(123);</script>]]></var>
			<var name="teamName"><![CDATA[<script>alert(123);</script>]]></var>
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Settings" />
		</execute>

		<execute macro="Site#assignDefaultSiteTeam">
			<var name="teamName"><![CDATA[<script>alert(123);</script>]]></var>
		</execute>

		<execute function="AssertAlertNotPresent" />

		<var name="actualScript"><![CDATA[<script>alert(123);</script>]]></var>
		<var name="escapedScript"><![CDATA[&lt;script&gt;alert(123);&lt;/script&gt;]]></var>

		<execute function="AssertHTMLSourceTextNotPresent" value1="${actualScript}" />
		<execute function="AssertHTMLSourceTextPresent" value1="${escapedScript}" />
	</command>
</definition>