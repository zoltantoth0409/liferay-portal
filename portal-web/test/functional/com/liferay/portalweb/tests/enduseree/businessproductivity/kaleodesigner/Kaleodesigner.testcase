<definition component-name="portal-business-productivity-ee">
	<property name="portal.release" value="true" />
	<property name="portal.upstream" value="true" />
	<property name="test.run.environment" value="EE" />
	<property name="testray.main.component.name" value="Kaleo Designer" />

	<set-up>
		<execute macro="TestCase#setUpPortalInstance" />

		<execute macro="User#firstLoginPG" />
	</set-up>

	<tear-down>
		<var method="PropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="PortalInstances#tearDownCP" />
			</then>
			<else>
				<execute macro="Workflow#tearDownSpecificWorkflowDefinition">
					<var name="workflowDefinitionTitle" value="Edited Workflow Definition" />
				</execute>

				<execute macro="Workflow#tearDownWorkflowDefinitions" />
			</else>
		</if>
	</tear-down>

	<command name="AddConditionNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Condition Node Description" />
			<var name="nodeName" value="Condition" />
			<var name="nodeNodeLabel" value="Condition" />
			<var name="nodeType" value="condition" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Condition" />
			<var name="nodeType" value="condition" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="Condition" />
		</execute>
	</command>

	<command name="AddEndNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="TestEndNode Node Description" />
			<var name="nodeName" value="TestEndNode" />
			<var name="nodeNodeLabel" value="TestEndNode" />
			<var name="nodeType" value="end" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="TestEndNode" />
			<var name="nodeType" value="end" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="TestEndNode" />
		</execute>
	</command>

	<command name="AddForkNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Fork Node Description" />
			<var name="nodeName" value="Fork" />
			<var name="nodeNodeLabel" value="Fork" />
			<var name="nodeType" value="fork" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Fork" />
			<var name="nodeType" value="fork" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="Fork" />
		</execute>
	</command>

	<command name="AddJoinNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Join Node Description" />
			<var name="nodeName" value="Join" />
			<var name="nodeNodeLabel" value="Join" />
			<var name="nodeType" value="join" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Join" />
			<var name="nodeType" value="join" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="Join" />
		</execute>
	</command>

	<command name="AddJoinXORNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Join XOR Node Description" />
			<var name="nodeName" value="Join XOR" />
			<var name="nodeNodeLabel" value="Join XOR" />
			<var name="nodeType" value="join-xor" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Join XOR" />
			<var name="nodeType" value="join-xor" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="Join XOR" />
		</execute>
	</command>

	<command name="AddJoinXORWorkflowDefinitionViaViewTab" priority="5">
		<property name="portal.acceptance" value="true" />
		<property name="testray.component.names" value="Training" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute function="AssertElementPresent" locator1="NavBar#ACTIVE_NAV_ITEM_LINK">
			<var name="key_navItem" value="Workflows" />
		</execute>

		<execute function="AssertTextEquals" locator1="Portlet#HEADER" value1="Workflow" />

		<execute macro="ProductMenuHelper#closeProductMenu" />

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="SubmitToFork" />
			<var name="newNode" value="Fork" />
			<var name="newNodeDescription" value="Fork Description" />
			<var name="newNodeName" value="Fork" />
			<var name="newNodeType" value="fork" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="SendToTask" />
			<var name="newNode" value="Task" />
			<var name="newNodeDescription" value="Task Description" />
			<var name="newNodeName" value="Task" />
			<var name="newNodeType" value="task" />
			<var name="nodeType" value="fork" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Join1" />
			<var name="newNode" value="Join XOR" />
			<var name="newNodeDescription" value="JoinXOR Description" />
			<var name="newNodeName" value="JoinXOR" />
			<var name="newNodeType" value="join-xor" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="SendToState" />
			<var name="down" value="true" />
			<var name="newNode" value="State" />
			<var name="newNodeDescription" value="State Description" />
			<var name="newNodeName" value="State" />
			<var name="newNodeType" value="state" />
			<var name="nodeType" value="fork" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorViaViewTab">
			<var name="connectorName" value="Join2" />
			<var name="nodeType" value="state2" />
			<var name="nodeTypeDestination" value="join-xor" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Finish" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="join-xor" />
		</execute>

		<execute function="ScrollBy" value1="0, 60" />

		<execute macro="PortletEntry#publish" />
	</command>

	<command name="AddNewWorkflowDefinitionViaViewTab" priority="5">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Task" />
			<var name="newNodeDescription" value="Task Node Description" />
			<var name="newNodeName" value="Task" />
			<var name="newNodeType" value="task" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#gotoEditWorkflowDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Start" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="End" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorPresent">
			<var name="connectorLabel" value="Submit" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorPresent">
			<var name="connectorLabel" value="Approve" />
		</execute>
	</command>

	<command name="AddStartNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="TestStartNode Node Description" />
			<var name="nodeName" value="TestStartNode" />
			<var name="nodeNodeLabel" value="TestStartNode" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="TestStartNode" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="TestStartNode" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="TestStartNode" />
		</execute>
	</command>

	<command name="AddStateNodeEditNameAndDesciptionAndDeleteViaViewTab" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="State Node Description" />
			<var name="nodeName" value="State" />
			<var name="nodeNodeLabel" value="State" />
			<var name="nodeType" value="state" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="State" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="State" />
			<var name="nodeType" value="state" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="State" />
		</execute>
	</command>

	<command name="AddTaskNodeEditNameAndDesciptionAndNotificationsAndDeleteViaViewTab" priority="5">
		<description message="This is a use case for LPS-53992." />

		<property name="portal.acceptance" value="pending" />
		<property name="test.name.skip.portal.instance" value="Kaleodesigner#AddTaskNodeEditNameAndDesciptionAndNotificationsAndDeleteViaViewTab" />
		<property name="testray.component.names" value="Training" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Task Node Description" />
			<var name="nodeName" value="Task" />
			<var name="nodeNodeLabel" value="Task" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Task" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#editNodeNotifications">
			<var name="nodeNotificationsDescription" value="Update Notification Description" />
			<var name="nodeNotificationsName" value="Update Notification" />
			<var name="nodeNotificationsRecipientType" value="Role Type" />
			<var name="nodeNotificationsTemplate" value="A new entry needs your review" />
			<var name="nodeNotificationsTemplateLanguage" value="Text" />
			<var name="nodeNotificationsType" value="User Notification" />
			<var name="roleTitle" value="Administrator" />
			<var name="roleType" value="Regular" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeNotifications">
			<var name="nodeNotificationsName" value="Update Notification" />
			<var name="nodeNotificationsRecipientType" value="Role Type" />
			<var name="nodeNotificationsTemplateLanguage" value="Text" />
			<var name="nodeNotificationsType" value="User Notification" />
			<var name="roleTitle" value="Administrator" />
			<var name="roleType" value="Regular" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>
	</command>

	<command name="AddTaskNodeViaSourceTabAndEditNameAndDesciptionAndDeleteViaViewTab" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaSourceXML">
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#editNodeName">
			<var name="nodeName" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#editNodeDescription">
			<var name="nodeDescription" value="Task Node Description" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Task" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>
	</command>

	<command name="ConfigureTaskTimersViaSourceTab" priority="4">
		<description message="This is a use case for LPS-37209." />

		<execute macro="TestCase#getFileContent">
			<return name="fileContent" />
			<var name="fileName" value="workflow_definition_task_timers.xml" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaSourceXML">
			<var name="sourceXML" value="${fileContent}" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="__TIMER_REVIEW__" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeTimer">
			<var name="blockerName" value="timer 1 action" />
			<var name="blocking" value="false" />
			<var name="durationTime1" value="1" />
			<var name="durationTime2" value="2" />
			<var name="timerName" value="timer 1" />
		</execute>
	</command>

	<command name="ConfigureTaskTimersViaViewTab" priority="4">
		<description message="This is a use case for LPS-37209." />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Task Node Description" />
			<var name="nodeName" value="Task" />
			<var name="nodeNodeLabel" value="Task" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#editNodeTimer">
			<var name="blockerDescription" value="Blocker Description" />
			<var name="blockerName" value="Blocker Name" />
			<var name="blockerScript" value="Test Script" />
			<var name="durationScale1" value="Hour" />
			<var name="durationScale2" value="Hour" />
			<var name="durationTime1" value="5" />
			<var name="durationTime2" value="6" />
			<var name="timerDescription" value="Timer Description" />
			<var name="timerName" value="Timer Name" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<name>Timer Name</name>]]></var>
			<var name="line" value="19" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<duration>5</duration>]]></var>
			<var name="line" value="22" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<scale>hour</scale>]]></var>
			<var name="line" value="23" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<duration>6</duration>]]></var>
			<var name="line" value="26" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<scale>hour</scale>]]></var>
			<var name="line" value="27" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<timer-action>]]></var>
			<var name="line" value="31" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<name>Blocker Name</name>]]></var>
			<var name="line" value="32" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<description>Blocker Description</description>]]></var>
			<var name="line" value="33" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[Test Script]]></var>
			<var name="line" value="35" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<blocking>true</blocking>]]></var>
			<var name="line" value="29" />
		</execute>
	</command>

	<command name="DeleteConnectors" priority="5">
		<property name="portal.acceptance" value="true" />
		<property name="test.name.skip.portal.instance" value="Kaleodesigner#DeleteConnectors" />
		<property name="testray.component.names" value="Training" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Task" />
			<var name="newNodeDescription" value="Task Node Description" />
			<var name="newNodeName" value="Task" />
			<var name="newNodeType" value="task" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#deleteConnector">
			<var name="connectorLabel" value="Submit" />
		</execute>

		<execute macro="KaleoDesigner#deleteConnector">
			<var name="connectorLabel" value="Approve" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Start" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="End" />
		</execute>

		<execute macro="Workflow#saveDefinition" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#gotoEditWorkflowDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Start" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="End" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorNotPresent">
			<var name="connectorLabel" value="Submit" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorNotPresent">
			<var name="connectorLabel" value="Approve" />
		</execute>
	</command>

	<command name="DeleteWorkflowDefinitionDraft" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>

		<execute macro="Workflow#saveDefinition" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#viewDefinitionUnpublished">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>

		<execute macro="Workflow#deleteWorkflowDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>

		<execute macro="Workflow#viewDefinitionNotPresent">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>
	</command>

	<command name="EditAssignmentsForTaskNodeKDCP" priority="5">
		<property name="portal.acceptance" value="true" />
		<property name="test.name.skip.portal.instance" value="Kaleodesigner#EditAssignmentsForTaskNodeKDCP" />
		<property name="testray.component.names" value="Training" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Task Node Description" />
			<var name="nodeName" value="Task" />
			<var name="nodeNodeLabel" value="Task" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeType">
			<var name="nodeNodeLabel" value="Task" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="KaleoDesigner#editNodeAssignments">
			<var name="autoCreate" value="true" />
			<var name="nodeAssignmentType" value="Role Type" />
			<var name="roleName" value="Board Member" />
			<var name="roleType" value="Regular" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeAssignments">
			<var name="nodeAssignmentType" value="Role Type" />
		</execute>
	</command>

	<command name="PublishDefaultWorkflowDefinition" priority="5">
		<description message="This is a use case for LPS-71924." />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<script-language>groovy</script-language>]]></var>
			<var name="line" value="32" />
		</execute>

		<execute macro="PortletEntry#publish" />
	</command>

	<command name="PublishFromSourceTabAndViewNameChange" priority="3">
		<description message="This is a use case for LPS-43214 and LPS-50269." />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="Test Definition" />
		</execute>

		<execute macro="KaleoDesigner#editSourceXML">
			<var name="kdSourceXML"><![CDATA[<name>NAME EDIT]]></var>
			<var name="line" value="5" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#viewDefinitionPublished">
			<var name="workflowDefinitionName" value="NAME EDIT" />
			<var name="workflowDefinitionTitle" value="Test Definition" />
		</execute>

		<execute macro="Workflow#gotoEditWorkflowDefinition">
			<var name="workflowDefinitionTitle" value="Test Definition" />
		</execute>

		<execute macro="KaleoDesigner#viewSourceXMLLine">
			<var name="kdSourceXML"><![CDATA[<name>NAME EDIT</name>]]></var>
			<var name="line" value="5" />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithConnectorPointingToStartNodeAndViewErrorMessage" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="Task" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="task" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#deleteConnector">
			<var name="connectorLabel" value="Approve" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorViaViewTab">
			<var name="connectorName" value="Reverse" />
			<var name="nodeType" value="task" />
			<var name="nodeTypeDestination" value="start2" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="The StartNode node cannot have an incoming transition." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithInvalidConditionNodeAndViewErrorMessage" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Condition" />
			<var name="newNodeDescription" value="Condition Node Description" />
			<var name="newNodeName" value="Condition" />
			<var name="newNodeType" value="condition" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="condition" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="The Condition node must have at least two outgoing transitions." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithInvalidConditionNodeSettingsAndViewErrorMessage" priority="3">
		<var name="nodeScript">
<![CDATA[
	import com.liferay.portal.kernel.util.GetterUtil;${line.separator}
	import com.liferay.portal.kernel.workflow.WorkflowConstants;${line.separator}
	import com.liferay.portal.model.Role;${line.separator}
	import com.liferay.portlet.dynamicdatalists.service.DDLRecordLocalServiceUtil${line.separator}
	import com.liferay.portal.service.RoleLocalServiceUtil;${line.separator}
	import com.liferay.portlet.dynamicdatalists.model.DDLRecord;${line.separator}
	import com.liferay.portlet.dynamicdatamapping.storage.Field;${line.separator}
	import com.liferay.portal.service.ServiceContext;${line.separator}
	import com.liferay.portal.kernel.json.JSONFactoryUtil;${line.separator}
	import com.liferay.portal.kernel.json.JSONArray;${line.separator}${line.separator}

	long companyId = GetterUtil.getLong String workflowContext.getWorkflowConstants.CONTEXT_COMPANY_ID;${line.separator}${line.separator}

	ServiceContext serviceContext = (ServiceContext) workflowContext.get(WorkflowConstants.CONTEXT_SERVICE_CONTEXT);${line.separator}${line.separator}

	long ddlRecordId = GetterUtil.getLong(serviceContext.getAttribute("ddlRecordId"));${line.separator}${line.separator}

	DDLRecord ddlRecord = DDLRecordLocalServiceUtil.getRecord(ddlRecordId);${line.separator}${line.separator}

	Field field = ddlRecord.getField("status");${line.separator}${line.separator}

	String json = GetterUtil.getString(field.getValue());${line.separator}${line.separator}

	JSONArray jsonArray = JSONFactoryUtil.createJSONArray(json)${line.separator}${line.separator}

	String status = jsonArray.getString(0);${line.separator}${line.separator}

	if (status.equals("closed")) {${line.separator}
	  returnValue = "Yes"${line.separator}
	} else {${line.separator}
	  returnValue = "No"${line.separator}
	}${line.separator}${line.separator}

]]>
		</var>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Condition" />
			<var name="newNodeDescription" value="Condition Node Description" />
			<var name="newNodeName" value="Condition" />
			<var name="newNodeType" value="condition" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="Condition" />
		</execute>

		<execute macro="KaleoDesigner#editNodeScript">
			<var name="nodeScript" value="${nodeScript}" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="condition" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="The Condition node must have at least two outgoing transitions." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithInvalidForkNodeAndViewErrorMessage" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Fork" />
			<var name="newNodeDescription" value="Fork Node Description" />
			<var name="newNodeName" value="Fork" />
			<var name="newNodeType" value="fork" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="fork" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="Each fork node requires a join node. Make sure all forks and joins are properly paired." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithInvalidJoinNodeAndViewErrorMessage" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Join" />
			<var name="newNodeDescription" value="Join Node Description" />
			<var name="newNodeName" value="Join" />
			<var name="newNodeType" value="join" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="join" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="Each fork node requires a join node. Make sure all forks and joins are properly paired." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithInvalidJoinXORNodeAndViewErrorMessage" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Join XOR" />
			<var name="newNodeDescription" value="JoinXOR Description" />
			<var name="newNodeName" value="JoinXOR" />
			<var name="newNodeType" value="join-xor" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Approve" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="join-xor" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="Each fork node requires a join node. Make sure all forks and joins are properly paired." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithMultipleStartNodesAndViewErrorMessage" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="TestStartNode Node Description" />
			<var name="nodeName" value="TestStartNode" />
			<var name="nodeNodeLabel" value="TestStartNode" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="The workflow has too many start nodes (state nodes StartNode and TestStartNode)." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithNoConnectorsAndViewErrorMessage" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#deleteConnector">
			<var name="connectorLabel" value="connector" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="The StartNode node must have an outgoing transition." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithNoEndNodeAndViewErrorMessage" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="The StartNode node must have an outgoing transition." />
		</execute>
	</command>

	<command name="PublishWorkflowDefinitionWithNoStartNodeAndViewErrorMessage" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="Workflow#publishInvalidWorkflowDefinition">
			<var name="errorMessage" value="You must define a start node." />
		</execute>
	</command>

	<command name="SaveInvalidWorkflowDefinitionAsDraft" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="Workflow#saveDefinition" />
	</command>

	<command name="UndoDraftDefinition" priority="3">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="StartNode" />
		</execute>

		<execute macro="KaleoDesigner#selectNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#deleteNode">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#addNodeViaViewTab">
			<var name="nodeDescription" value="Start Node Description" />
			<var name="nodeName" value="Start" />
			<var name="nodeNodeLabel" value="Start" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="Workflow#saveDefinition" />

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Submit" />
			<var name="newNode" value="Task" />
			<var name="newNodeDescription" value="Task Node Description" />
			<var name="newNodeName" value="Task" />
			<var name="newNodeType" value="task" />
			<var name="nodeType" value="start" />
		</execute>

		<execute macro="Workflow#saveDefinition" />

		<execute macro="KaleoDesigner#addConnectorAndNodeViaViewTab">
			<var name="connectorName" value="Complete" />
			<var name="newNode" value="End" />
			<var name="newNodeDescription" value="End Node Description" />
			<var name="newNodeName" value="End" />
			<var name="newNodeType" value="end" />
			<var name="nodeType" value="task" />
		</execute>

		<execute macro="Workflow#saveDefinition" />

		<execute macro="KaleoDesigner#showRevisionHistory" />

		<execute macro="KaleoDesigner#restoreDraft">
			<var name="rowIndexNumber" value="1" />
		</execute>

		<execute macro="KaleoDesigner#showDetails" />

		<execute macro="KaleoDesigner#viewTotalModifications">
			<var name="totalModifications" value="4" />
		</execute>

		<execute function="Refresh" />

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Start" />
		</execute>

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeNotPresent">
			<var name="nodeNodeLabel" value="End" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorPresent">
			<var name="connectorLabel" value="Submit" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorNotPresent">
			<var name="connectorLabel" value="Complete" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#gotoEditWorkflowDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#showRevisionHistory" />

		<execute macro="KaleoDesigner#restoreDraft">
			<var name="rowIndexNumber" value="3" />
		</execute>

		<execute macro="KaleoDesigner#showDetails" />

		<execute macro="KaleoDesigner#viewTotalModifications">
			<var name="totalModifications" value="5" />
		</execute>

		<execute function="Refresh" />

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="Start" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeNotPresent">
			<var name="nodeNodeLabel" value="Task" />
		</execute>

		<execute macro="KaleoDesigner#viewNodeNotPresent">
			<var name="nodeNodeLabel" value="End" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorNotPresent">
			<var name="connectorLabel" value="Submit" />
		</execute>

		<execute macro="KaleoDesigner#viewConnectorNotPresent">
			<var name="connectorLabel" value="Complete" />
		</execute>

		<execute macro="Workflow#saveDefinition" />
	</command>

	<command name="ViewAndPublishWorkflowDefinitionDraft" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>

		<execute macro="Workflow#saveDefinition" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#viewDefinitionUnpublished">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#gotoEditWorkflowDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#viewDefinitionPublished">
			<var name="workflowDefinitionTitle" value="New Workflow Definition" />
		</execute>
	</command>

	<command name="ViewSourceXMLNotErasedWhenInvalid" priority="4">
		<description message="This is a use case for LPS-48590." />

		<property name="test.name.skip.portal.instance" value="Kaleodesigner#ViewSourceXMLNotErasedWhenInvalid" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#editSourceXML">
			<var name="kdSourceXML" value=" " />
			<var name="line" value="18" />
		</execute>

		<execute macro="KaleoDesigner#viewViewTab" />

		<execute macro="KaleoDesigner#viewNodeNotPresent">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="KaleoDesigner#editSourceXML">
			<var name="kdSourceXML"><![CDATA[</transitions></state>]]></var>
			<var name="line" value="18" />
		</execute>

		<execute macro="KaleoDesigner#viewViewTab" />

		<execute macro="KaleoDesigner#viewNodePresent">
			<var name="nodeNodeLabel" value="EndNode" />
		</execute>

		<execute macro="PortletEntry#publish" />
	</command>

	<command name="ViewWorkflowDefinitionButtons" priority="2">
		<description message="This is a use case for LPS-47352 and LPS-48912." />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Configuration" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Workflow" />
		</execute>

		<execute macro="Workflow#addNewDefinition">
			<var name="workflowDefinitionTitle" value="New Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#viewButtons" />
	</command>

	<command name="ViewWorkflowDefinitionButtonsViaKaleoFormsAdmin" priority="2">
		<description message="This is a use case for LPS-47352 and LPS-48912." />

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Content" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Kaleo Forms Admin" />
		</execute>

		<execute macro="KaleoFormsAdmin#addProcess" />

		<execute macro="KaleoFormsAdmin#addProcessDetails">
			<var name="kfProcessDescription" value="Kaleo Forms Process Description" />
			<var name="kfProcessName" value="Kaleo Forms Process" />
		</execute>

		<execute macro="KaleoFormsAdmin#next" />

		<execute macro="KaleoFormsAdmin#addFieldSet">
			<var name="kfFieldSetName" value="Field Set Data Definition" />
			<var name="kfProcessName" value="Kaleo Forms Process" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Text" />
			<var name="fieldFieldLabel" value="Text" />
			<var name="fieldName" value="Text" />
		</execute>

		<execute macro="KaleoFormsAdmin#saveFieldSet" />

		<execute macro="KaleoFormsAdmin#chooseFieldSet">
			<var name="kfFieldSetName" value="Field Set Data Definition" />
			<var name="kfProcessName" value="Kaleo Forms Process" />
		</execute>

		<execute macro="KaleoFormsAdmin#next" />

		<execute macro="KaleoFormsAdmin#addWorkflow">
			<var name="kfProcessName" value="Kaleo Forms Process" />
			<var name="workflowDefinitionTitle" value="Workflow Definition Title" />
		</execute>

		<execute macro="KaleoDesigner#viewButtons">
			<var name="cancelButton" value="true" />
		</execute>

		<execute function="SelectFrameTop" />

		<execute macro="KaleoFormsAdmin#viewPublishedWorkflowDefinitions" />
		<execute macro="KaleoFormsAdmin#viewNoUnpublishedWorkflowDefinitions" />
	</command>
</definition>