<definition component-name="portal-user-management-and-portal-configuration">
	<property name="portal.release" value="true" />
	<property name="portal.upstream" value="true" />
	<property name="testray.main.component.name" value="Roles" />

	<set-up>
		<execute macro="TestCase#setUpPortalInstance" />

		<execute macro="User#firstLoginPG" />
	</set-up>

	<tear-down>
		<var method="TestPropsUtil#get('test.portal.instance')" name="testPortalInstance" />

		<if>
			<equals arg1="${testPortalInstance}" arg2="true" />
			<then>
				<execute macro="PortalInstances#tearDownCP" />
			</then>
			<else>
				<execute macro="User#firstLoginPG" />

				<execute macro="Role#tearDownCP" />

				<execute macro="DDLList#tearDownCP" />

				<execute macro="DDLDataDefinition#tearDownCP" />

				<execute macro="User#tearDownCP" />

				<execute macro="UserGroup#tearDownCP" />

				<execute macro="Organization#tearDownCP" />

				<execute macro="Team#tearDownCP" />

				<execute macro="Site#tearDownCP" />

				<execute macro="Bookmark#tearDownCP" />

				<execute macro="DMDocument#tearDownCP" />

				<execute macro="Page#tearDownCP" />
			</else>
		</if>
	</tear-down>

	<command name="EditTeamPermissions" priority="4">
		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW_CONTROL_PANEL" />
			<var name="resourceName" value="90" />
			<var name="roleTitle" value="User" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Roles Siterole Name" />
			<var name="roleTitle" value="Roles Siterole Name" />
		</execute>

		<for list="ACCESS_IN_CONTROL_PANEL,ADD_TO_PAGE,CONFIGURATION,PERMISSIONS,PREFERENCES,VIEW" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com_liferay_site_memberships_web_portlet_SiteMembershipsPortlet" />
				<var name="roleTitle" value="Roles Siterole Name" />
				<var name="roleType" value="site" />
			</execute>
		</for>

		<for list="ADD_COMMUNITY,ADD_LAYOUT,ADD_LAYOUT_BRANCH,ADD_LAYOUT_SET_BRANCH,ASSIGN_MEMBERS,ASSIGN_USER_ROLES,CONFIGURE_PORTLETS,DELETE,EXPORT_IMPORT_LAYOUTS,EXPORT_IMPORT_PORTLET_INFO,MANAGE_ANNOUNCEMENTS,MANAGE_ARCHIVED_SETUPS,MANAGE_LAYOUTS,MANAGE_STAGING,MANAGE_SUBGROUPS,MANAGE_TEAMS,PERMISSIONS,PREVIEW_IN_DEVICE,PUBLISH_PORTLET_INFO,PUBLISH_STAGING,UPDATE,VIEW,VIEW_MEMBERS,VIEW_SITE_ADMINISTRATION,VIEW_STAGING" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com.liferay.portal.kernel.model.Group" />
				<var name="roleTitle" value="Roles Siterole Name" />
				<var name="roleType" value="site" />
			</execute>
		</for>

		<for list="ASSIGN_MEMBERS,DELETE,PERMISSIONS,UPDATE,VIEW" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com.liferay.portal.kernel.model.Team" />
				<var name="roleTitle" value="Roles Siterole Name" />
				<var name="roleType" value="site" />
			</execute>
		</for>

		<for list="ADD_TO_PAGE,CONFIGURATION,PERMISSIONS,PREFERENCES,VIEW" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com_liferay_journal_content_web_portlet_JournalContentPortlet" />
				<var name="roleTitle" value="Roles Siterole Name" />
				<var name="roleType" value="site" />
			</execute>
		</for>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Site Page Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Site Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Roles Siterole Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription" value="Site Team Description" />
			<var name="teamName" value="Site Team Name" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="pageName" value="Site Page Name" />
			<var name="portletName" value="Web Content Display" />
		</execute>

		<execute macro="PermissionsInline#gotoConfigurationPG">
			<var name="portletName" value="Web Content Display" />
		</execute>

		<var name="key_teamName" value="Site Team Name" />

		<execute function="AssertTextEquals" locator1="Permissions#CONFIGURATION_PERMISSIONS_TEAM_ROLE_NAME" value1="Site Team Name" />

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="PermissionsInline#gotoConfigurationPG">
			<var name="portletName" value="Web Content Display" />
		</execute>

		<var name="key_teamName" value="Site Team Name" />

		<execute function="AssertTextEquals" locator1="Permissions#CONFIGURATION_PERMISSIONS_TEAM_ROLE_NAME" value1="Site Team Name" />

		<execute macro="Navigator#openURL" />

		<execute macro="PermissionsInline#gotoSiteTeamsCP">
			<var name="portletName" value="Site Teams" />
			<var name="siteScopeName" value="Site Name" />
			<var name="teamName" value="Site Team Name" />
		</execute>

		<for list="ACTION_ASSIGN_MEMBERS,ACTION_DELETE,ACTION_PERMISSIONS,ACTION_UPDATE,ACTION_VIEW" param="permissionDefinitionKey">
			<execute macro="Team#definePermissionPG">
				<var name="permissionDefinitionKey" value="${permissionDefinitionKey}" />
				<var name="teamName" value="Site Team Name" />
			</execute>
		</for>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="Team#editCP">
			<var name="teamDescriptionEdit" value="Site Team Description Edit" />
			<var name="teamName" value="Site Team Name" />
			<var name="teamNameEdit" value="Site Team Name Edit" />
		</execute>

		<execute macro="Team#assignMembersCP">
			<var name="teamName" value="Site Team Name Edit" />
			<var name="userScreenName" value="usersn" />
		</execute>
	</command>

	<command name="GroupScopePermissionCheck" priority="4">
		<property name="test.name.skip.portal.instance" value="RolesandpermissionsUsecase#GroupScopePermissionCheck" />

		<execute macro="TestCase#getSiteName">
			<return from="siteName" name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#add">
			<var name="roleTitle" value="Group Scope Role Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCmdCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_APPLICATIONS_BOOKMARKS_RESOURCE_PERMISSIONS_BOOKMARKS_ENTRY_VIEW_CHECKBOX" />
			<var name="permissionDefinitionValue" value="View" />
			<var name="roleTitle" value="Group Scope Role Name" />
			<var name="siteNameScope" value="Liferay" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Bookmarks" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Bookmark#addPG">
			<var name="bookmarkName" value="Test Bookmark1 Name" />
			<var name="bookmarkURL" value="https://www.liferay.com" />
			<var name="bookmarkViewableBy" value="Owner" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addCP">
			<var name="siteName" value="google.com Name" />
			<var name="siteType" value="Blank" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Bookmarks Page" />
			<var name="siteName" value="google.com Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Bookmarks" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Bookmarks Page" />
			<var name="siteName" value="google.com Name" />
		</execute>

		<execute macro="Bookmark#addPG">
			<var name="bookmarkName" value="Test Bookmark2 Name" />
			<var name="bookmarkURL" value="https://www.google.com" />
			<var name="bookmarkViewableBy" value="Owner" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Bookmarks Page" />
			<var name="siteName" value="google.com Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="google.com Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignRegularRoleCP">
			<var name="roleTitle" value="Group Scope Role Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Bookmark#gotoPG">
			<var name="bookmarkName" value="Test Bookmark1 Name" />
			<var name="bookmarkURL" value="https://www.liferay.com" />
		</execute>

		<execute macro="Bookmark#viewEntry">
			<var name="bookmarkName" value="Test Bookmark1 Name" />
			<var name="bookmarkURL" value="https://www.liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Bookmarks Page" />
			<var name="siteName" value="google.com Name" />
		</execute>

		<execute macro="Bookmark#viewNoPG">
			<var name="bookmarkName" value="Test Bookmark2 Name" />
			<var name="bookmarkURL" value="https://www.google.com" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="NoGuestRolePermissionsFromPrivateLayout" priority="3">
		<property name="custom.properties" value="permissions.check.guest.enabled=false" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPrivatePage">
			<var name="pageName" value="Private Blogs Page" />
		</execute>

		<execute macro="PermissionsInline#gotoSitepageCP">
			<var name="pageName" value="Private Blogs Page" />
		</execute>

		<execute function="AssertElementNotPresent" locator1="Permissions#CONTENT_PERMISSIONS_ROLE_NAME">
			<var name="key_roleTitle" value="Guest" />
		</execute>

		<execute macro="Navigator#openPrivateSitePageURL">
			<var name="pageName" value="Private Blogs Page" />
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Blogs" />
		</execute>

		<execute macro="PermissionsInline#gotoConfigurationPG">
			<var name="portletName" value="Blogs" />
		</execute>

		<execute function="AssertElementNotPresent" locator1="Permissions#CONTENT_PERMISSIONS_ROLE_NAME">
			<var name="key_roleTitle" value="Guest" />
		</execute>
	</command>

	<command name="RolesOrganizationSearch" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="RoleNavigator#gotoRoleType">
			<var name="roleType" value="Organization" />
		</execute>

		<execute macro="Role#add">
			<var name="roleTitle" value="Roles Orgrole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_APPLICATIONS_DOCUMENTS_AND_MEDIA_RESOURCE_PERMISSIONS_DOCUMENT_VIEW_CHECKBOX" />
			<var name="permissionDefinitionValue" value="View" />
			<var name="roleTitle" value="Roles Orgrole Name" />
			<var name="roleType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Community Site" />
			<var name="orgName" value="Organization Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserOrganizationCP">
			<var name="orgName" value="Organization Name" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserOrganizationCP">
			<var name="orgName" value="Organization Name" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignOrgRoleCP">
			<var name="roleTitle" value="Roles Orgrole Name" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Organization Name" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Organization Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Documents and Media Page" />
			<var name="siteName" value="Organization Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Documents and Media" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Documents and Media Page" />
			<var name="siteName" value="Organization Name" />
		</execute>

		<execute macro="DMDocument#addPG">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentFile" value="Document_1.doc" />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Content" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Documents and Media" />
		</execute>

		<execute macro="DMNavigator#gotoDocumentPermissionsCP">
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="PermissionsInline#addOrRemoveViewPermissionFromAllRoles">
			<var name="addOrRemoveViewPermission" value="Remove" />
			<var name="roleList" value="Guest,Owner,Site Member,Organization User" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Documents and Media Page" />
			<var name="siteName" value="Organization Name" />
		</execute>

		<execute macro="SearchPortlet#searchPG">
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#viewSearchResultPG">
			<var name="searchAssetTitle" value="Test Document" />
			<var name="searchAssetType" value="Document" />
		</execute>

		<var name="key_searchAssetTitle" value="Test Document" />

		<execute function="AssertClick" locator1="SearchResults#ASSET_ENTRY_TABLE_TITLE" value1="Test Document" />

		<execute macro="DMDocument#viewPGViaSearch">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentFile" value="Document_1.doc" />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Documents and Media Page" />
			<var name="siteName" value="Organization Name" />
		</execute>

		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no documents or media files in this folder." />

		<execute macro="SearchPortlet#searchPG">
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#viewSearchNoPG">
			<var name="searchAssetTitle" value="Test Document" />
			<var name="searchNoResults" value="true" />
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea2@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Documents and Media Page" />
			<var name="siteName" value="Organization Name" />
		</execute>

		<execute macro="DMDocument#viewPG">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#searchPG">
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#viewSearchResultPG">
			<var name="searchAssetTitle" value="Test Document" />
			<var name="searchAssetType" value="Document" />
		</execute>

		<var name="key_searchAssetTitle" value="Test Document" />

		<execute function="AssertClick" locator1="SearchResults#ASSET_ENTRY_TABLE_TITLE" value1="Test Document" />

		<execute macro="DMDocument#viewPGViaSearch">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentFile" value="Document_1.doc" />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="RolesPermissionsDynamicDataLists" priority="4">
		<execute macro="TestCase#getSiteName">
			<return from="siteName" name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Data Recorder Name" />
			<var name="roleTitle" value="Data Recorder Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_RECORD" />
			<var name="resourceName" value="com.liferay.dynamic.data.lists.model.DDLRecordSet" />
			<var name="roleTitle" value="Data Recorder Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="View" />
			<var name="resourceName" value="com.liferay.dynamic.data.lists.model.DDLRecordSet" />
			<var name="roleTitle" value="Data REcorder Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Records Manager Name" />
			<var name="roleTitle" value="Records Manager Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="UPDATE" />
			<var name="resourceName" value="com.liferay.dynamic.data.lists.model.DDLRecordSet" />
			<var name="roleTitle" value="Records Manager Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com.liferay.dynamic.data.lists.model.DDLRecordSet" />
			<var name="roleTitle" value="Records Manager Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Data Recorder Name" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Records Manager Name" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Dynamic Data Lists Page" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Dynamic Data Lists Page" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Dynamic Data Lists Display" />
		</execute>

		<execute macro="DDLList#addViaDDLDisplayPG">
			<var name="ddlListDescription" value="Liferay Employee Profiles" />
			<var name="ddlListName" value="Employees" />
		</execute>

		<execute macro="DDLDataDefinition#addViaDDLDisplayPG">
			<var name="ddlDataDefinitionDescription" value="Data Definition Description" />
			<var name="ddlDataDefinitionName" value="Employee Profile Data Definition" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Boolean" />
			<var name="fieldFieldLabel" value="Employee" />
			<var name="fieldName" value="Employee" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Date" />
			<var name="fieldFieldLabel" value="Start Date" />
			<var name="fieldName" value="StartDate" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Decimal" />
			<var name="fieldFieldLabel" value="Salary" />
			<var name="fieldName" value="Salary" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Documents and Media" />
			<var name="fieldFieldLabel" value="Profile Picture" />
			<var name="fieldName" value="ProfilePicture" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Documents and Media" />
			<var name="fieldFieldLabel" value="Resume" />
			<var name="fieldName" value="Resume" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Integer" />
			<var name="fieldFieldLabel" value="Age" />
			<var name="fieldName" value="Age" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Number" />
			<var name="fieldFieldLabel" value="Weekly Hours" />
			<var name="fieldName" value="WeeklyHours" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Radio" />
			<var name="fieldFieldLabel" value="Department" />
			<var name="fieldName" value="Department" />
		</execute>

		<execute macro="DynamicDataMapping#editFieldOptions">
			<var name="field" value="Radio" />
			<var name="fieldFieldLabel" value="Department" />
			<var name="fieldName" value="Department" />
			<var name="fieldOptionsNames" value="Core Engineer,QA Engineer,Support Engineer" />
			<var name="fieldOptionsValues" value="1,2,3" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Select" />
			<var name="fieldFieldLabel" value="Years Worked" />
			<var name="fieldName" value="YearsWorked" />
		</execute>

		<execute macro="DynamicDataMapping#editFieldOptions">
			<var name="field" value="Select" />
			<var name="fieldFieldLabel" value="Years Worked" />
			<var name="fieldName" value="YearsWorked" />
			<var name="fieldOptionsNames" value="1-2,3-5,5+" />
			<var name="fieldOptionsValues" value="1,2,3" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Text" />
			<var name="fieldFieldLabel" value="Name" />
			<var name="fieldName" value="Name" />
		</execute>

		<execute macro="DynamicDataMapping#addField">
			<var name="field" value="Text Box" />
			<var name="fieldFieldLabel" value="Description" />
			<var name="fieldName" value="Description" />
		</execute>

		<execute macro="DDLDataDefinition#saveViaDDLDisplayPG" />

		<execute macro="DDLDataDefinition#selectViaDDLDisplayPG">
			<var name="ddlDataDefinitionName" value="Employee Profile Data Definition" />
		</execute>

		<execute macro="DDLList#saveViaDDLDisplayPG" />

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Dynamic Data Lists Page" />
		</execute>

		<execute macro="DDLRecord#addViaDDLDisplayPG">
			<var name="ddlDataDefinitionName" value="Employee Profile Data Definition" />
		</execute>

		<execute macro="DDLRecord#populateFieldBoolean">
			<var name="ddlRecordFieldData" value="Yes" />
			<var name="fieldFieldLabel" value="Employee" />
			<var name="fieldName" value="Employee" />
		</execute>

		<execute macro="DDLRecord#populateFieldDate">
			<var name="ddlRecordFieldData" value="04/01/2015" />
			<var name="fieldFieldLabel" value="Start Date" />
			<var name="fieldName" value="StartDate" />
		</execute>

		<execute macro="DDLRecord#populateFieldDecimal">
			<var name="ddlRecordFieldData" value="35000" />
			<var name="fieldFieldLabel" value="Salary" />
			<var name="fieldName" value="Salary" />
		</execute>

		<execute macro="DDLRecord#populateFieldDocumentsAndMediaChooseFromDocumentLibrary">
			<var name="document" value="Document_1.txt" />
			<var name="fieldFieldLabel" value="Resume" />
			<var name="fieldName" value="Resume" />
		</execute>

		<execute macro="DDLRecord#populateFieldInteger">
			<var name="ddlRecordFieldData" value="30" />
			<var name="fieldFieldLabel" value="Age" />
			<var name="fieldName" value="Age" />
		</execute>

		<execute macro="DDLRecord#populateFieldNumber">
			<var name="ddlRecordFieldData" value="40" />
			<var name="fieldFieldLabel" value="Weekly Hours" />
			<var name="fieldName" value="WeeklyHours" />
		</execute>

		<execute macro="DDLRecord#populateFieldRadio">
			<var name="ddlRecordFieldData" value="QA Engineer" />
			<var name="fieldFieldLabel" value="Department" />
			<var name="fieldName" value="Department" />
		</execute>

		<execute macro="DDLRecord#populateFieldSelect">
			<var name="ddlRecordFieldData" value="5+" />
			<var name="fieldFieldLabel" value="Years Worked" />
			<var name="fieldName" value="YearsWorked" />
		</execute>

		<execute macro="DDLRecord#populateFieldText">
			<var name="ddlRecordFieldData" value="Joe Engineer" />
			<var name="fieldFieldLabel" value="Name" />
			<var name="fieldName" value="Name" />
		</execute>

		<execute macro="DDLRecord#populateFieldTextBox">
			<var name="ddlRecordFieldData" value="Joe Engineer works in QA" />
			<var name="fieldFieldLabel" value="Description" />
			<var name="fieldName" value="Description" />
		</execute>

		<execute macro="PortletEntry#publish" />

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Dynamic Data Lists Page" />
		</execute>

		<var name="key_ddlDataDefinitionName" value="Employee Profile Data Definition" />

		<execute function="AssertTextEquals" locator1="DDL#TOOLBAR_ADD" value1="Add Employee Profile Data Definition" />
		<execute function="AssertElementPresent" locator1="DDL#RECORD_TABLE_ELLIPSIS_1" />

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea2@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Dynamic Data Lists Page" />
		</execute>

		<execute function="AssertElementNotPresent" locator1="DDL#TOOLBAR_ADD" />
		<execute function="AssertElementPresent" locator1="DDL#RECORD_TABLE_ELLIPSIS_1" />

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>
	</command>

	<command name="RolesSiteSearch" priority="4">
		<execute macro="TestCase#getSiteName">
			<return from="siteName" name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="RoleNavigator#gotoRoleType">
			<var name="roleType" value="Site" />
		</execute>

		<execute macro="Role#add">
			<var name="roleTitle" value="Roles Siterole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_APPLICATIONS_DOCUMENTS_AND_MEDIA_RESOURCE_PERMISSIONS_DOCUMENT_VIEW_CHECKBOX" />
			<var name="permissionDefinitionValue" value="View" />
			<var name="roleTitle" value="Roles Siterole Name" />
			<var name="roleType" value="Site" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Roles Siterole Name" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Documents and Media" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute macro="DMDocument#addPG">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentFile" value="Document_1.doc" />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Content" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Documents and Media" />
		</execute>

		<execute macro="DMNavigator#gotoDocumentPermissionsCP">
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="PermissionsInline#addOrRemoveViewPermissionFromAllRoles">
			<var name="addOrRemoveViewPermission" value="Remove" />
			<var name="roleList" value="Guest,Owner,Site Member" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute macro="SearchPortlet#searchPG">
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#viewSearchResultPG">
			<var name="searchAssetTitle" value="Test Document" />
			<var name="searchAssetType" value="Document" />
		</execute>

		<var name="key_searchAssetTitle" value="Test Document" />

		<execute function="AssertClick" locator1="SearchResults#ASSET_ENTRY_TABLE_TITLE" value1="Test Document" />

		<execute macro="DMDocument#viewPGViaSearch">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentFile" value="Document_1.doc" />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute function="AssertTextEquals" locator1="Message#EMPTY_INFO" value1="There are no documents or media files in this folder." />

		<execute macro="SearchPortlet#searchPG">
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#viewSearchNoPG">
			<var name="searchAssetTitle" value="Test Document" />
			<var name="searchNoResults" value="true" />
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea2@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Documents and Media Page" />
		</execute>

		<execute macro="DMDocument#viewPG">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#searchPG">
			<var name="searchTerm" value="Test Document" />
		</execute>

		<execute macro="SearchPortlet#viewSearchResultPG">
			<var name="searchAssetTitle" value="Test Document" />
			<var name="searchAssetType" value="Document" />
		</execute>

		<var name="key_searchAssetTitle" value="Test Document" />

		<execute function="AssertClick" locator1="SearchResults#ASSET_ENTRY_TABLE_TITLE" value1="Test Document" />

		<execute macro="DMDocument#viewPGViaSearch">
			<var name="dmDocumentDescription" value="This is a test document." />
			<var name="dmDocumentFile" value="Document_1.doc" />
			<var name="dmDocumentTitle" value="Test Document" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="RolesSitesPermissionsInheritance" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea1@liferay.com" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea2@liferay.com" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea3@liferay.com" />
			<var name="userFirstName" value="userfn3" />
			<var name="userLastName" value="userln3" />
			<var name="userScreenName" value="usersn3" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea3@liferay.com" />
			<var name="userScreenName" value="usersn3" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name 1" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name 2" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addSiteCP">
			<var name="organizationSite" value="Community Site" />
			<var name="orgName" value="Organization Name 2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="Organization#addCP">
			<var name="orgName" value="Organization Name 3" />
			<var name="orgType" value="Organization" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addMemberCP">
			<var name="orgName" value="Organization Name 1" />
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userName" value="userfn1 userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addMemberCP">
			<var name="orgName" value="Organization Name 2" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userName" value="userfn2 userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#assignOrgRoleCP">
			<var name="orgName" value="Organization Name 2" />
			<var name="roleTitle" value="Organization Administrator" />
			<var name="userFirstName" value="userfn2" />
			<var name="userLastName" value="userln2" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="UsersAndOrganizationsNavigator#gotoOrganizations" />

		<execute macro="Organization#addMemberCP">
			<var name="orgName" value="Organization Name 3" />
			<var name="userFirstName" value="userfn3" />
			<var name="userLastName" value="userln3" />
			<var name="userName" value="userfn3 userln3" />
			<var name="userScreenName" value="usersn3" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="UG UserGroup1 Name" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="UG UserGroup2 Name" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="UG UserGroup3 Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="UG UserGroup1 Name" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="UG UserGroup2 Name" />
			<var name="userScreenName" value="usersn2" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="UG UserGroup3 Name" />
			<var name="userScreenName" value="usersn3" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Asset Publisher Page" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Movie Blogger Name" />
			<var name="roleTitle" value="Movie Blogger Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_ENTRY" />
			<var name="resourceName" value="com.liferay.blogs" />
			<var name="roleTitle" value="Movie Blogger Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com.liferay.blogs.model.BlogsEntry" />
			<var name="roleTitle" value="Movie Blogger Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_TO_PAGE" />
			<var name="resourceName" value="com_liferay_asset_publisher_web_portlet_AssetPublisherPortlet" />
			<var name="roleTitle" value="Movie Blogger Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com_liferay_asset_publisher_web_portlet_AssetPublisherPortlet" />
			<var name="roleTitle" value="Movie Blogger Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Music Fan Name" />
			<var name="roleTitle" value="Music Fan Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com.liferay.message.boards" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_CATEGORY" />
			<var name="resourceName" value="com.liferay.message.boards" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_MESSAGE" />
			<var name="resourceName" value="com.liferay.message.boards" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com.liferay.message.boards.kernel.model.MBCategory" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_MESSAGE" />
			<var name="resourceName" value="com.liferay.message.boards.kernel.model.MBCategory" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com.liferay.message.boards.kernel.model.MBMessage" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com_liferay_asset_publisher_web_portlet_AssetPublisherPortlet" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_TO_PAGE" />
			<var name="resourceName" value="com_liferay_asset_publisher_web_portlet_AssetPublisherPortlet" />
			<var name="roleTitle" value="Music Fan Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="JSONRole#addSiteRole">
			<var name="roleKey" value="Sports Journalist Name" />
			<var name="roleTitle" value="Sports Journalist Name" />
		</execute>

		<for list="ADD_DISCUSSION,DELETE,DELETE_DISCUSSION,EXPIRE,PERMISSIONS,SUBSCRIBE,UPDATE,UPDATE_DISCUSSION,VIEW" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com.liferay.journal.model.JournalArticle" />
				<var name="roleTitle" value="Sports Journalist Name" />
				<var name="roleType" value="site" />
			</execute>
		</for>

		<for list="ADD_ARTICLE,ADD_FEED,ADD_FOLDER,ADD_STRUCTURE,ADD_TEMPLATE,PERMISSIONS,SUBSCRIBE,UPDATE,VIEW" param="resourceActionIndex">
			<execute macro="Permissions#definePermissionViaJSONAPI">
				<var name="resourceAction" value="${resourceActionIndex}" />
				<var name="resourceName" value="com.liferay.journal" />
				<var name="roleTitle" value="Sports Journalist Name" />
				<var name="roleType" value="site" />
			</execute>
		</for>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com_liferay_asset_publisher_web_portlet_AssetPublisherPortlet" />
			<var name="roleTitle" value="Sports Journalist Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_TO_PAGE" />
			<var name="resourceName" value="com_liferay_asset_publisher_web_portlet_AssetPublisherPortlet" />
			<var name="roleTitle" value="Sports Journalist Name" />
			<var name="roleType" value="site" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignUserAsMemberCP">
			<var name="userFirstName" value="userfn1" />
			<var name="userLastName" value="userln1" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignOrganizationAsMemberCP">
			<var name="orgName" value="Organization Name 2" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignUserGroupAsMemberCP">
			<var name="userGroupName" value="UG UserGroup3 Name" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignSiteRoleCP">
			<var name="resourceName" value="userfn1 userln1" />
			<var name="roleTitle" value="Music Fan Name" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignSiteRoleCP">
			<var name="resourceName" value="userfn2 userln2" />
			<var name="roleTitle" value="Movie Blogger Name" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Navigator#gotoNavItem">
			<var name="navItem" value="User Groups" />
		</execute>

		<execute macro="Site#assignSiteRoleCP">
			<var name="resourceName" value="UG UserGroup3 Name" />
			<var name="roleTitle" value="Sports Journalist Name" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Asset Publisher" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Message Boards" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Asset Publisher Page" />
			<var name="siteName" value="Site Name" />
		</execute>

		<var name="key_portletTitleName" value="Message Boards" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Message Boards" />

		<var name="key_portletTitleName" value="Asset Publisher" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Asset Publisher" />

		<execute macro="MessageboardsThread#addPG">
			<var name="threadBody" value="This is a thread by usersn1" />
			<var name="threadSubject" value="Music Thread 1" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea2@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Asset Publisher Page" />
			<var name="siteName" value="Site Name" />
		</execute>

		<var name="key_portletTitleName" value="Message Boards" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Message Boards" />

		<var name="key_portletTitleName" value="Asset Publisher" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Asset Publisher" />

		<execute function="AssertElementNotPresent" locator1="MessageBoards#ADD_CATEGORY_BUTTON" />
		<execute function="AssertElementNotPresent" locator1="Button#PERMISSIONS" />

		<execute macro="Blogs#addViaAP">
			<var name="entryContent" value="This is a movie blog by usersn2" />
			<var name="entryTitle" value="Movie Blog" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Organization Name 2" />
		</execute>

		<var name="key_portletTitleName" value="Message Boards" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Message Boards" />

		<execute function="AssertTextEquals" locator1="Button#ADD_CATEGORY" value1="Add Category" />
		<execute function="AssertTextEquals" locator1="Button#NEW_THREAD" value1="New Thread" />

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea3@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="Asset Publisher Page" />
			<var name="siteName" value="Site Name" />
		</execute>

		<var name="key_portletTitleName" value="Message Boards" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Message Boards" />

		<var name="key_portletTitleName" value="Asset Publisher" />

		<execute function="AssertTextEquals#assertTextCaseInsensitive" locator1="Portlet#SPECIFIC_TITLE" value1="Asset Publisher" />

		<execute function="AssertElementNotPresent" locator1="Button#ADD_CATEGORY" />

		<execute macro="WebContent#addPGViaAP">
			<var name="webContentContent" value="This article is by usersn3, a member of user group 3 but not site name 1" />
			<var name="webContentTitle" value="User Group Article" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="SiteRoleBookmarksInlinePermissions" priority="4">
		<execute macro="TestCase#getSiteName">
			<return from="siteName" name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="RoleNavigator#gotoRoleType">
			<var name="roleType" value="Site" />
		</execute>

		<execute macro="Role#add">
			<var name="roleTitle" value="Roles Siterole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCmdCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_APPLICATIONS_BOOKMARKS_RESOURCE_PERMISSIONS_BOOKMARKS_ENTRY_VIEW_CHECKBOX" />
			<var name="permissionDefinitionValue" value="View" />
			<var name="roleTitle" value="Roles Siterole Name" />
			<var name="roleType" value="Site" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Bookmarks" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Bookmark#addPG">
			<var name="bookmarkName" value="Test Bookmark Name" />
			<var name="bookmarkURL" value="https://www.liferay.com" />
			<var name="bookmarkViewableBy" value="Owner" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Bookmark#viewNoPG">
			<var name="bookmarkName" value="Test Bookmark Name" />
			<var name="bookmarkURL" value="https://www.liferay.com" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignSiteRoleCP">
			<var name="siteRoleName" value="Roles Siterole Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="Bookmark#viewBookmark">
			<var name="bookmarkName" value="Test Bookmark Name" />
			<var name="bookmarkURL" value="https://www.liferay.com" />
		</execute>

		<execute macro="Navigator#gotoPage">
			<var name="pageName" value="Bookmarks Page" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="TeamPermissionsSite" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<for list="1,2" param="userNumber">
			<execute macro="ProductMenu#gotoPortlet">
				<var name="category" value="Users" />
				<var name="panel" value="Control Panel" />
				<var name="portlet" value="Users and Organizations" />
			</execute>

			<execute macro="User#addCP">
				<var name="userEmailAddress" value="userea${userNumber}@liferay.com" />
				<var name="userFirstName" value="userfn${userNumber}" />
				<var name="userLastName" value="userln${userNumber}" />
				<var name="userScreenName" value="usersn${userNumber}" />
			</execute>

			<execute macro="ProductMenu#gotoPortlet">
				<var name="category" value="Users" />
				<var name="panel" value="Control Panel" />
				<var name="portlet" value="Users and Organizations" />
			</execute>

			<execute macro="User#editPasswordCP">
				<var name="userEmailAddress" value="userea${userNumber}@liferay.com" />
				<var name="userScreenName" value="usersn${userNumber}" />
			</execute>

			<execute macro="ProductMenu#gotoPortlet">
				<var name="category" value="Users" />
				<var name="panel" value="Control Panel" />
				<var name="portlet" value="Users and Organizations" />
			</execute>

			<execute macro="User#editUserSiteCP">
				<var name="siteName" value="Site Name" />
				<var name="userScreenName" value="usersn${userNumber}" />
			</execute>
		</for>

		<execute macro="Navigator#openURL" />

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="PortletEntry#viewEmptyMessage">
			<var name="entity" value="Site Teams" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Teams" />
		</execute>

		<execute macro="Team#addCP">
			<var name="teamDescription" value="Site Team Description" />
			<var name="teamName" value="Site Team Name" />
		</execute>

		<execute macro="Team#assignMembersCP">
			<var name="teamName" value="Site Team Name" />
			<var name="userScreenName" value="usersn1" />
		</execute>

		<execute macro="ProductMenu#gotoSite">
			<var name="site" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="USA Ice Hockey Team Blog" />
			<var name="pageTemplateName" value="Blog" />
		</execute>

		<execute macro="PermissionsInline#gotoPagePG">
			<var name="pageName" value="USA Ice Hockey Team Blog" />
		</execute>

		<execute macro="Role#removePermissionPG">
			<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_VIEW_CHECKBOX" />
			<var name="roleTitle" value="guest" />
		</execute>

		<execute macro="Role#removePermissionPG">
			<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_ADD_DISCUSSION_CHECKBOX" />
			<var name="roleTitle" value="site-member" />
		</execute>

		<execute macro="Role#removePermissionPG">
			<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_VIEW_CHECKBOX" />
			<var name="roleTitle" value="site-member" />
		</execute>

		<for list="ACTION_ADD_DISCUSSION,ACTION_ADD_LAYOUT,ACTION_CONFIGURE_PORTLETS,ACTION_CUSTOMIZE,ACTION_DELETE,ACTION_DELETE_DISCUSSION,ACTION_PERMISSIONS,ACTION_UPDATE,ACTION_UPDATE_DISCUSSION,ACTION_VIEW" param="permissionDefinitionKey">
			<execute macro="Team#definePermissionPG">
				<var name="permissionDefinitionKey" value="${permissionDefinitionKey}" />
				<var name="teamName" value="Site Team Name" />
			</execute>
		</for>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea1@liferay.com" />
		</execute>

		<execute macro="Navigator#gotoSitePage">
			<var name="pageName" value="USA Ice Hockey Team Blog" />
			<var name="siteName" value="Site Name" />
		</execute>

		<for list="Blogs,Tag Cloud,Recent Bloggers" param="portletTitleName">
			<var name="key_portletTitleName" value="${portletTitleName}" />

			<execute function="AssertTextEquals" locator1="Portlet#SPECIFIC_TITLE" value1="${portletTitleName}" />
		</for>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea2@liferay.com" />
		</execute>

		<execute function="AssertElementNotPresent" locator1="Home#PAGE">
			<var name="key_pageName" value="USA Ice Hockey Team Blog" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="ViewAutomaticAssignedRoles" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#add">
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCP">
			<var name="permissionDefinitionKey" value="CONTROL_PANEL_USERS_USERS_AND_ORGANIZATIONS_GENERAL_PERMISSIONS_ACCESS_IN_CONTROL_PANEL_CHECKBOX" />
			<var name="permissionDefinitionValue" value="Access in Control Panel" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Role#viewPermissionCP">
			<var name="permissionDefinitionValue" value="View Control Panel Menu" />
			<var name="permissionNavigationValue" value="Portal" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_PAGES_SITE_PAGES_GENERAL_PERMISSIONS_ACCESS_IN_SITE_ADMINISTRATION_CHECKBOX" />
			<var name="permissionDefinitionValue" value="Access in Site Administration" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Role#viewPermissionCP">
			<var name="permissionDefinitionValue" value="View Site Administration Menu" />
			<var name="permissionNavigationValue" value="Site Settings > Site" />
		</execute>
	</command>

	<command name="ViewDocumentsAndMediaAddRepositoryPermissionSiteMemberRole" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#definePermissionCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_APPLICATIONS_DOCUMENTS_AND_MEDIA_RESOURCE_PERMISSIONS_DOCUMENTS_ADD_REPOSITORY_CHECKBOX" />
			<var name="permissionDefinitionValue" value="Add Repository" />
			<var name="roleTitle" value="Site Member" />
			<var name="roleType" value="Site" />
		</execute>

		<execute function="AssertTextNotPresent" value1="action.ADD_REPOSITORY" />

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Roles" />
		</execute>

		<execute macro="Role#removePermissionCP">
			<var name="permissionDefinitionKey" value="SITE_ADMIN_APPLICATIONS_DOCUMENTS_AND_MEDIA_RESOURCE_PERMISSIONS_DOCUMENTS_ADD_REPOSITORY_CHECKBOX" />
			<var name="permissionDefinitionValue" value="Add Repository" />
			<var name="roleTitle" value="Site Member" />
			<var name="roleType" value="Site" />
		</execute>
	</command>

	<command name="ViewPreferencesPanelPermissionSiteMemberRole" priority="4">
		<property name="osgi.app.includes" value="currency-converter" />

		<execute macro="TestCase#getSiteName">
			<return from="siteName" name="siteName" />
			<var name="siteName" value="${siteName}" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="${siteName}" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="Portlet#addPG">
			<var name="portletName" value="Currency Converter" />
		</execute>

		<execute macro="PermissionsInline#gotoConfigurationPG">
			<var name="portletName" value="Currency Converter" />
		</execute>

		<execute macro="Role#definePermissionPG">
			<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_VIEW_CHECKBOX" />
			<var name="roleTitle" value="Site Member" />
		</execute>

		<execute macro="Role#definePermissionPG">
			<var name="permissionDefinitionKey" value="CONTENT_PERMISSIONS_PREFERENCES_CHECKBOX" />
			<var name="roleTitle" value="Site Member" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Portlet#gotoPortletOptions">
			<var name="portletName" value="Currency Converter" />
			<var name="portletOption" value="Preferences" />
		</execute>

		<execute function="AssertElementPresent" locator1="Home#PAGE">
			<var name="key_pageName" value="Welcome" />
		</execute>

		<execute function="AssertTextEquals#assertText" locator1="HelloWorld#PORTLET_TITLE" value1="Hello World" />
		<execute function="AssertElementPresent" locator1="HelloWorld#PORTLET_CONTENT" />

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="test@liferay.com" />
		</execute>
	</command>

	<command name="ViewPrivatePageSiteMemberRole" priority="4">
		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#addCP">
			<var name="userGroupName" value="UG UserGroup Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="User Groups" />
		</execute>

		<execute macro="UserGroup#assignMemberCP">
			<var name="userGroupName" value="UG UserGroup Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Members" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Memberships" />
		</execute>

		<execute macro="Site#assignUserGroupAsMemberCP">
			<var name="userGroupName" value="UG UserGroup Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPrivatePage">
			<var name="pageName" value="Private Page" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#openPrivateURL">
			<var name="pageName" value="Private Page" />
		</execute>

		<execute macro="Page#viewSpecificPG">
			<var name="pageNameList" value="Private Page" />
		</execute>
	</command>

	<command name="ViewRegRolePermissionsDefaultView" priority="4">
		<execute macro="JSONRole#addRegularRole">
			<var name="roleKey" value="Roles Regrole Name" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ACCESS_IN_CONTROL_PANEL" />
			<var name="resourceName" value="com_liferay_journal_web_portlet_JournalPortlet" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com_liferay_journal_web_portlet_JournalPortlet" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW_SITE_ADMINISTRATION" />
			<var name="resourceName" value="com.liferay.portal.kernel.model.Group" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="ADD_ARTICLE" />
			<var name="resourceName" value="com.liferay.journal" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="Permissions#definePermissionViaJSONAPI">
			<var name="resourceAction" value="VIEW" />
			<var name="resourceName" value="com.liferay.journal" />
			<var name="roleTitle" value="Roles Regrole Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Sites" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Sites" />
		</execute>

		<execute macro="Site#addBlankCP">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Navigation" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Site Pages" />
		</execute>

		<execute macro="SitePages#addPublicPage">
			<var name="pageName" value="Site Page Name" />
		</execute>

		<execute macro="SitePages#addPrivatePage">
			<var name="pageName" value="Site Page Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#addCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userFirstName" value="userfn" />
			<var name="userLastName" value="userln" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editPasswordCP">
			<var name="userEmailAddress" value="userea@liferay.com" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#editUserSiteCP">
			<var name="siteName" value="Site Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#assignRegularRoleCP">
			<var name="roleTitle" value="Roles Regrole Name" />
			<var name="userScreenName" value="usersn" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Users" />
			<var name="panel" value="Control Panel" />
			<var name="portlet" value="Users and Organizations" />
		</execute>

		<execute macro="User#logoutPG" />

		<execute macro="User#loginUserPG">
			<var name="password" value="test" />
			<var name="userEmailAddress" value="userea@liferay.com" />
		</execute>

		<execute macro="Navigator#openSiteURL">
			<var name="siteName" value="Site Name" />
		</execute>

		<execute macro="ProductMenu#gotoPortlet">
			<var name="category" value="Content" />
			<var name="panel" value="Site Administration" />
			<var name="portlet" value="Web Content" />
		</execute>

		<execute function="AssertVisible" locator1="Button#PLUS" />

		<execute function="Pause" locator1="3000" />

		<execute macro="LexiconEntry#gotoAdd" />

		<execute function="Pause" locator1="3000" />

		<execute macro="WebContent#viewWCViewableByPermissions" />
	</command>
</definition>