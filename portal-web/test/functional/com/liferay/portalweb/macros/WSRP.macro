definition {
	macro addConsumerCP {
		AssertClick(locator1 = "NavTab#PRODUCERS", value1 = "Producers");

		var key_producerName = "${producerName}";

		Copy(locator1 = "WSRPAdmin#PRODUCER_TABLE_URL");

		AssertClick(locator1 = "NavTab#CONSUMERS", value1 = "Consumers");

		Click(locator1 = "Button#PLUS");

		PortletEntry.inputName(name = "${consumerName}");

		Paste(locator1 = "TextArea#URL");

		PortletEntry.save();
	}

	macro addConsumerPortletCP {
		var key_consumerName = "${consumerName}";

		Click(locator1 = "WSRPAdmin#CONSUMER_TABLE_ACTIONS_BUTTON");

		AssertClick(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			value1 = "Manage Portlets",
			key_menuItem = "Manage Portlets"
		);

		Click(locator1 = "Button#PLUS");

		PortletEntry.inputName(name = "${consumerPortletName}");

		Select(locator1 = "Select#REMOTE_PORTLET", value1 = "${consumerPortletType}");

		PortletEntry.save();
	}

	macro addProducerCP {
		AssertClick(locator1 = "NavTab#PRODUCERS", value1 = "Producers");

		Click(locator1 = "Button#PLUS");

		PortletEntry.inputName(name = "${producerName}");

		Select(locator1 = "Select#VERSION", value1 = "2.0");

		Select(locator1 = "Select#AVAILABLE", value1 = "${portletsAvailableSelect}");

		Click(locator1 = "Button#MOVE_AVAILABLE_TO_CURRENT");

		PortletEntry.save();

		var key_producerName = "${producerName}";

		AssertTextEquals(
			locator1 = "WSRPAdmin#PRODUCER_TABLE_PRODUCER",
			value1 = "${producerName}"
		);

		AssertElementPresent(locator1 = "WSRPAdmin#PRODUCER_TABLE_URL");
	}

	macro tearDownCP {
		ProductMenu.gotoPortlet(
			category = "Apps",
			panel = "Control Panel",
			portlet = "WSRP Admin"
		);

		AssertClick(locator1 = "NavTab#PRODUCERS", value1 = "Producers");

		while (IsElementPresent(locator1 = "WSRPAdmin#PRODUCER_TABLE_ACTIONS_BUTTON_GENERIC")) {
			Click(locator1 = "WSRPAdmin#PRODUCER_TABLE_ACTIONS_BUTTON_GENERIC");

			AssertClickNoError(
				locator1 = "MenuItem#ANY_MENU_ITEM",
				value1 = "Delete",
				key_menuItem = "Delete"
			);

			Confirm(
				value1 = "Are you sure you want to delete this? It will be deleted immediately."
			);
		}

		AssertTextEquals(locator1 = "Message#INFO", value1 = "There are no producers.");

		AssertClick(locator1 = "NavTab#CONSUMERS", value1 = "Consumers");

		while (IsElementPresent(locator1 = "WSRPAdmin#CONSUMER_TABLE_ACTIONS_BUTTON_GENERIC")) {
			Click(locator1 = "WSRPAdmin#CONSUMER_TABLE_ACTIONS_BUTTON_GENERIC");

			AssertClickNoError(
				locator1 = "MenuItem#ANY_MENU_ITEM",
				value1 = "Delete",
				key_menuItem = "Delete"
			);

			Confirm(
				value1 = "Are you sure you want to delete this? It will be deleted immediately."
			);
		}

		AssertTextEquals(locator1 = "Message#INFO", value1 = "There are no consumers.");
	}
}