definition {
	macro _selectAssetType {
		var key_assetType = "${assetType}";

		AssertClick(
			locator1 = "AssetRelatedAssets#RELATED_ASSETS_SELECT",
			value1 = "Select"
		);

		var assetTypeLocator = StringUtil.replace("${assetType}", " ", "_");
		var assetTypeLocator = StringUtil.upperCase("${assetTypeLocator}");

		AssertClick(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			value1 = "${assetType}",
			key_menuItem = "${assetType}"
		);
	}

	macro configureFilterByCategories {
		Portlet.gotoPortletOptions(
			portletName = "Related Assets",
			portletName = "${portletName}",
			portletOption = "Configuration"
		);

		IFrame.selectDialogFrame();

		Panel.expandPanel(panelHeading = "Filter");

		Select(
			locator1 = "RelatedassetsConfiguration#FILTER_SELECT",
			value1 = "Categories"
		);

		Click(locator1 = "Button#SELECT_CATEGORIES");

		SelectFrameTop();

		var key_categoryName = "${categoryName}";

		Click(
			locator1 = "RelatedassetsConfiguration#CATEGORIES_WINDOW_CATEGORY_CHECKBOX"
		);

		Click(locator1 = "Icon#CLOSE");

		SelectFrameTop();

		IFrame.selectDialogFrame();

		AssertTextEquals(
			locator1 = "AssetCategorization#CATEGORY",
			value1 = "${categoryName}"
		);

		Button.clickSave();

		Alert.viewSuccessMessage();

		SelectFrameTop();
	}

	macro gotoBookmarksSelectionPG {
		Portlet.clickPortletPlusIconPG(portletName = "Bookmarks");

		AssertClick(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			value1 = "Bookmark",
			key_menuItem = "Bookmark"
		);

		Panel.expandPanel(panelHeading = "Related Assets");

		AssertClick(
			locator1 = "AssetRelatedAssets#RELATED_ASSETS_SELECT",
			value1 = "Select"
		);

		var key_assetType = "${assetType}";

		AssertClick(
			locator1 = "AssetRelatedAssets#RELATED_ASSETS_SELECT_MENULIST_ASSET",
			value1 = "${assetType}"
		);
	}

	macro selectAsset {
		RelatedAssets._selectAssetType(assetType = "${assetType}");

		SelectFrame(value1 = "relative=top");

		IFrame.selectDialogFrame();

		var key_assetTitle = "${assetTitle}";

		AssertClick(
			locator1 = "AssetRelatedAssets#ASSET_TABLE_CHOOSE",
			value1 = "${assetTitle}"
		);

		SelectFrame(value1 = "relative=top");
	}

	macro viewDefaultPG {
		var key_portletName = "Related Assets";

		AssertTextEquals(locator1 = "Portlet#TITLE", value1 = "Related Assets");

		AssertTextEquals(
			locator1 = "Message#INFO",
			value1 = "There are no related assets available. This application will show all assets related to the main asset of the current page."
		);
	}

	macro viewNoPG {
		for (var assetTitle : list "${assetTitleList}") {
			var key_assetTitle = "${assetTitle}";

			AssertElementNotPresent(locator1 = "Relatedassets#ASSET_TITLE");
		}
	}

	macro viewPG {
		if (IsElementPresent(locator1 = "Relatedassets#ASSET_TITLE_IMAGE_1")) {
			AssertVisible(locator1 = "Relatedassets#ASSET_TITLE_IMAGE_1");
		}

		AssertTextEquals(
			locator1 = "Relatedassets#ASSET_TITLE_1",
			value1 = "${assetTitle}"
		);

		MouseOver(locator1 = "Relatedassets#BODY");

		Click.waitForMenuToggleJSClick(locator1 = "Icon#BODY_VERTICAL_ELLIPSIS");

		AssertTextEquals.assertPartialText(
			locator1 = "MenuItem#ANY_MENU_ITEM",
			value1 = "Edit ${assetTitle}",
			key_menuItem = "Edit ${assetTitle}"
		);
	}
}